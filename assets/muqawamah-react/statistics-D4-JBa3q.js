import{r as s,s as a,j as e,c as t,R as l}from"./supabaseClient-Bdusv2SU.js";import{T as i}from"./TournamentNavbar-D2cgzQdF.js";import{F as n}from"./Footer-YZurjJeH.js";function c(){const[t,l]=s.useState("player"),[c,r]=s.useState({goals:[],assists:[]}),[m,d]=s.useState({goalsScored:[],goalsAgainst:[]}),[o,h]=s.useState(!0);s.useEffect(()=>{j()},[]);const j=async()=>{try{h(!0);const{data:s}=await a.from("team_players").select("\n          id,\n          player_name,\n          player_image,\n          goals,\n          assists,\n          team_id,\n          team_registrations(team_name)\n        ").order("goals",{ascending:!1});if(s){const a=s.filter(s=>(s.goals||0)>0).slice(0,10),e=[...s].filter(s=>(s.assists||0)>0).sort((s,a)=>(a.assists||0)-(s.assists||0)).slice(0,10);r({goals:a,assists:e})}const{data:e}=await a.from("teams").select("*").eq("category","open-age").order("goals_for",{ascending:!1});if(e){const s=[...e].slice(0,5),a=[...e].sort((s,a)=>(s.goals_against||999)-(a.goals_against||999)).slice(0,5);d({goalsScored:s,goalsAgainst:a})}}catch(s){}finally{h(!1)}},x=(s,a)=>{window.location.href=`/muqawamah/2026/open-age/players/?player=${s}`},N=s=>{window.location.href=`/muqawamah/2026/open-age/teams/?team=${s}`};return o?e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("div",{className:"statistics-loading",children:e.jsxs("div",{className:"statistics-loading-content",children:[e.jsxs("div",{className:"logo-loader",children:[e.jsx("div",{className:"logo-ring"}),e.jsx("img",{src:"/assets/img/MuqawamaLogo.png",alt:"Muqawama",className:"logo-pulse"})]}),e.jsx("p",{children:"Loading statistics..."})]})}),e.jsx(n,{edition:"2026"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("div",{className:"statistics-page",children:e.jsxs("div",{className:"statistics-container",children:[e.jsx("h1",{className:"statistics-title",children:"STATISTICS"}),e.jsxs("div",{className:"stats-tabs",children:[e.jsx("button",{className:"stats-tab "+("player"===t?"active":""),onClick:()=>l("player"),children:"PLAYER STATS"}),e.jsx("button",{className:"stats-tab "+("team"===t?"active":""),onClick:()=>l("team"),children:"TEAM STATS"})]}),"player"===t&&e.jsxs("div",{className:"stats-content",children:[e.jsx("h2",{className:"stats-section-title",children:"PLAYER LEADERBOARDS"}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{className:"stat-card-title",children:"GOALS"}),e.jsx("div",{className:"stat-list",children:c.goals.map((s,a)=>{var t;return e.jsxs("div",{className:"stat-item",onClick:()=>x(s.id,s.player_name),children:[e.jsx("span",{className:"stat-rank",children:a+1}),e.jsx("div",{className:"stat-player-photo",children:s.player_image?e.jsx("img",{src:s.player_image,alt:s.player_name}):e.jsx("i",{className:"fas fa-user"})}),e.jsxs("div",{className:"stat-player-info",children:[e.jsx("span",{className:"stat-player-name",children:s.player_name}),e.jsx("span",{className:"stat-player-team",children:(null==(t=s.team_registrations)?void 0:t.team_name)||"N/A"})]}),e.jsx("span",{className:"stat-value",children:s.goals||0})]},s.id)})}),e.jsx("button",{className:"show-more-btn",children:"SHOW MORE"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{className:"stat-card-title",children:"ASSISTS"}),e.jsx("div",{className:"stat-list",children:c.assists.map((s,a)=>{var t;return e.jsxs("div",{className:"stat-item",onClick:()=>x(s.id,s.player_name),children:[e.jsx("span",{className:"stat-rank",children:a+1}),e.jsx("div",{className:"stat-player-photo",children:s.player_image?e.jsx("img",{src:s.player_image,alt:s.player_name}):e.jsx("i",{className:"fas fa-user"})}),e.jsxs("div",{className:"stat-player-info",children:[e.jsx("span",{className:"stat-player-name",children:s.player_name}),e.jsx("span",{className:"stat-player-team",children:(null==(t=s.team_registrations)?void 0:t.team_name)||"N/A"})]}),e.jsx("span",{className:"stat-value",children:s.assists||0})]},s.id)})}),e.jsx("button",{className:"show-more-btn",children:"SHOW MORE"})]})]})]}),"team"===t&&e.jsxs("div",{className:"stats-content",children:[e.jsx("h2",{className:"stats-section-title",children:"TEAM STATISTICS"}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{className:"stat-card-title",children:"GOALS SCORED"}),e.jsx("div",{className:"stat-list",children:m.goalsScored.map((s,a)=>{var t;return e.jsxs("div",{className:"stat-item team-stat-item",onClick:()=>N(s.id),children:[e.jsx("span",{className:"stat-rank",children:a+1}),e.jsx("div",{className:"stat-team-logo",children:s.crest_url?e.jsx("img",{src:s.crest_url,alt:s.name}):e.jsx("span",{children:(null==(t=s.name)?void 0:t.charAt(0))||"?"})}),e.jsx("span",{className:"stat-team-name",children:s.name}),e.jsx("span",{className:"stat-value",children:s.goals_for||0})]},s.id)})}),e.jsx("button",{className:"show-more-btn",children:"SHOW MORE"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{className:"stat-card-title",children:"GOALS AGAINST"}),e.jsx("div",{className:"stat-list",children:m.goalsAgainst.map((s,a)=>{var t;return e.jsxs("div",{className:"stat-item team-stat-item",onClick:()=>N(s.id),children:[e.jsx("span",{className:"stat-rank",children:a+1}),e.jsx("div",{className:"stat-team-logo",children:s.crest_url?e.jsx("img",{src:s.crest_url,alt:s.name}):e.jsx("span",{children:(null==(t=s.name)?void 0:t.charAt(0))||"?"})}),e.jsx("span",{className:"stat-team-name",children:s.name}),e.jsx("span",{className:"stat-value",children:s.goals_against||0})]},s.id)})}),e.jsx("button",{className:"show-more-btn",children:"SHOW MORE"})]})]})]})]})}),e.jsx(n,{edition:"2026"})]})}t.createRoot(document.getElementById("statistics-root")).render(e.jsx(l.StrictMode,{children:e.jsx(c,{})}));
