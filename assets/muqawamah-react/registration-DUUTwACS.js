import{r as e,j as t,s as a,R as s,c as n}from"./App-ClKdzuI3.js";function i({onSuccess:s}){const[n,i]=e.useState(""),[r,l]=e.useState(!1);return t.jsx("div",{className:"auth-modal",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("div",{className:"auth-logo",children:t.jsx("img",{src:"/assets/img/title.png",alt:"Muqawama 2026"})}),t.jsx("h2",{children:"Welcome to Muqawama 2026"}),t.jsx("p",{className:"auth-subtitle",children:"Sign in with your Google account to register your team and manage your registration."}),n&&t.jsx("p",{className:"auth-error",children:n}),t.jsx("div",{className:"auth-alternative",children:t.jsx("button",{type:"button",className:"auth-oauth-btn google-btn",onClick:async()=>{i(""),l(!0);try{const{data:e,error:t}=await a.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/muqawamah/2026/register/"}});if(t)throw t}catch(e){i(`Google sign-in failed: ${e.message}. Please contact support.`),l(!1)}},disabled:r,children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"spinner-small"})," Signing in..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fab fa-google"})," Continue with Google"]})})}),t.jsxs("p",{className:"auth-note",children:[t.jsx("i",{className:"fas fa-info-circle"})," Your Google account will be used to authenticate and save your team registration."]})]})})}const r=e.createContext(null),l=()=>{const t=e.useContext(r);if(!t)throw new Error("useRegistration must be used within RegistrationProvider");return t},o=()=>[...["GK","CB","LB","RB","CM","LM","ST"].map((e,t)=>({id:`${e}-${t}`,name:"",position:e,isSubstitute:!1,image:null,x:50,y:50})),...["SUB1","SUB2","SUB3","SUB4"].map((e,t)=>({id:`${e}-${t}`,name:"",position:"SUB",isSubstitute:!0,image:null,x:10+20*t,y:90}))],c={teamName:"",category:"open-age",teamLogo:null,teamLogoFileName:null,captainName:"",captainEmail:"",captainPhone:"",formation:"1-3-2-1"},m=({children:a})=>{const[s,n]=e.useState(1),[i,l]=e.useState(c),[m,d]=e.useState(o()),[u,h]=e.useState(!1),[p,f]=e.useState(null),[g,x]=e.useState(null),[y,j]=e.useState(null),[N,v]=e.useState(!1),[w,b]=e.useState(null),[S,P]=e.useState(null),C=()=>{l(c),d(o()),x(null),j(null),b(null),P(null),n(1)},E=e.useMemo(()=>({step:s,setStep:n,teamData:i,setTeamData:l,players:m,setPlayers:d,loading:u,setLoading:h,error:p,setError:f,successTeamId:g,setSuccessTeamId:x,existingTeamId:y,setExistingTeamId:j,readOnlyMode:N,setReadOnlyMode:v,paymentStatus:w,setPaymentStatus:b,transactionId:S,setTransactionId:P,resetForm:C}),[s,i,m,u,p,g,y,N,w,S]);return t.jsx(r.Provider,{value:E,children:a})};const d=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${e}`)})();function u(e){const t=[];for(let a=0,s=e.length;a<s;a++)t.push(e[a]);return t}let h=null;function p(e={}){return h||(e.includeStyleProperties?(h=e.includeStyleProperties,h):(h=u(window.getComputedStyle(document.documentElement)),h))}function f(e,t){const a=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return a?parseFloat(a.replace("px","")):0}function g(e,t={}){return{width:t.width||function(e){const t=f(e,"border-left-width"),a=f(e,"border-right-width");return e.clientWidth+t+a}(e),height:t.height||function(e){const t=f(e,"border-top-width"),a=f(e,"border-bottom-width");return e.clientHeight+t+a}(e)}}const x=16384;function y(e){return new Promise((t,a)=>{const s=new Image;s.onload=()=>{s.decode().then(()=>{requestAnimationFrame(()=>t(s))})},s.onerror=a,s.crossOrigin="anonymous",s.decoding="async",s.src=e})}async function j(e,t,a){const s="http://www.w3.org/2000/svg",n=document.createElementNS(s,"svg"),i=document.createElementNS(s,"foreignObject");return n.setAttribute("width",`${t}`),n.setAttribute("height",`${a}`),n.setAttribute("viewBox",`0 0 ${t} ${a}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),n.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(e)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}(n)}const N=(e,t)=>{if(e instanceof t)return!0;const a=Object.getPrototypeOf(e);return null!==a&&(a.constructor.name===t.name||N(a,t))};function v(e,t,a,s){const n=`.${e}:${t}`,i=a.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(a):function(e,t){return p(t).map(t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`).join(" ")}(a,s);return document.createTextNode(`${n}{${i}}`)}function w(e,t,a,s){const n=window.getComputedStyle(e,a),i=n.getPropertyValue("content");if(""===i||"none"===i)return;const r=d();try{t.className=`${t.className} ${r}`}catch(o){return}const l=document.createElement("style");l.appendChild(v(r,a,n,s)),t.appendChild(l)}const b="application/font-woff",S="image/jpeg",P={woff:b,woff2:b,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:S,jpeg:S,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function C(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return P[t]||""}function E(e){return-1!==e.search(/^(data:)/)}async function R(e,t,a){const s=await fetch(e,t);if(404===s.status)throw new Error(`Resource "${s.url}" not found`);const n=await s.blob();return new Promise((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(a({res:s,result:i.result}))}catch(n){t(n)}},i.readAsDataURL(n)})}const T={};async function L(e,t,a){const s=function(e,t,a){let s=e.replace(/\?.*/,"");return a&&(s=e),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),t?`[${t}]${s}`:s}(e,t,a.includeQueryParams);if(null!=T[s])return T[s];let n;a.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const s=await R(e,a.fetchRequestInit,({res:e,result:a})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(a)));n=function(e,t){return`data:${t};base64,${e}`}(s,t)}catch(i){n=a.imagePlaceholder||"";let t=`Failed to fetch resource: ${e}`;i&&(t="string"==typeof i?i:i.message)}return T[s]=n,n}async function $(e,t){return N(e,HTMLCanvasElement)?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):y(t)}(e):N(e,HTMLVideoElement)?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==a||a.drawImage(e,0,0,t.width,t.height),y(t.toDataURL())}const a=e.poster,s=C(a);return y(await L(a,s,t))}(e,t):N(e,HTMLIFrameElement)?async function(e,t){var a;try{if(null===(a=null==e?void 0:e.contentDocument)||void 0===a?void 0:a.body)return await _(e.contentDocument.body,t,!0)}catch(s){}return e.cloneNode(!1)}(e,t):e.cloneNode(D(e))}const k=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase(),D=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();function M(e,t,a){return N(t,Element)&&(function(e,t,a){const s=t.style;if(!s)return;const n=window.getComputedStyle(e);n.cssText?(s.cssText=n.cssText,s.transformOrigin=n.transformOrigin):p(a).forEach(a=>{let i=n.getPropertyValue(a);if("font-size"===a&&i.endsWith("px")){const e=Math.floor(parseFloat(i.substring(0,i.length-2)))-.1;i=`${e}px`}N(e,HTMLIFrameElement)&&"display"===a&&"inline"===i&&(i="block"),"d"===a&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),s.setProperty(a,i,n.getPropertyPriority(a))})}(e,t,a),function(e,t,a){w(e,t,":before",a),w(e,t,":after",a)}(e,t,a),function(e,t){N(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),N(e,HTMLInputElement)&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(N(e,HTMLSelectElement)){const a=t,s=Array.from(a.children).find(t=>e.value===t.getAttribute("value"));s&&s.setAttribute("selected","")}}(e,t)),t}async function _(e,t,a){return a||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>$(e,t)).then(a=>async function(e,t,a){var s,n;if(D(t))return t;let i=[];return i=k(e)&&e.assignedNodes?u(e.assignedNodes()):N(e,HTMLIFrameElement)&&(null===(s=e.contentDocument)||void 0===s?void 0:s.body)?u(e.contentDocument.body.childNodes):u((null!==(n=e.shadowRoot)&&void 0!==n?n:e).childNodes),0===i.length||N(e,HTMLVideoElement)||await i.reduce((e,s)=>e.then(()=>_(s,a)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}(e,a,t)).then(a=>M(e,a,t)).then(e=>async function(e,t){const a=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===a.length)return e;const s={};for(let i=0;i<a.length;i++){const n=a[i].getAttribute("xlink:href");if(n){const a=e.querySelector(n),i=document.querySelector(n);a||!i||s[n]||(s[n]=await _(i,t,!0))}}const n=Object.values(s);if(n.length){const t="http://www.w3.org/1999/xhtml",a=document.createElementNS(t,"svg");a.setAttribute("xmlns",t),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const s=document.createElementNS(t,"defs");a.appendChild(s);for(let e=0;e<n.length;e++)s.appendChild(n[e]);e.appendChild(a)}return e}(e,t)):null}const I=/url\((['"]?)([^'"]+?)\1\)/g,F=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,A=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function B(e,t,a,s,n){try{const i=a?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const a=document.implementation.createHTMLDocument(),s=a.createElement("base"),n=a.createElement("a");return a.head.appendChild(s),a.body.appendChild(n),t&&(s.href=t),n.href=e,n.href}(t,a):t,r=C(t);let l;return n||(l=await L(i,r,s)),e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${l}$3`)}catch(i){}return e}function U(e){return-1!==e.search(I)}async function q(e,t,a){if(!U(e))return e;const s=function(e,{preferredFontFormat:t}){return t?e.replace(A,e=>{for(;;){const[a,,s]=F.exec(e)||[];if(!s)return"";if(s===t)return`src: ${a};`}}):e}(e,a),n=function(e){const t=[];return e.replace(I,(e,a,s)=>(t.push(s),e)),t.filter(e=>!E(e))}(s);return n.reduce((e,s)=>e.then(e=>B(e,s,t,a)),Promise.resolve(s))}async function O(e,t,a){var s;const n=null===(s=t.style)||void 0===s?void 0:s.getPropertyValue(e);if(n){const s=await q(n,null,a);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function V(e,t){N(e,Element)&&(await async function(e,t){await O("background",e,t)||await O("background-image",e,t),await O("mask",e,t)||await O("-webkit-mask",e,t)||await O("mask-image",e,t)||await O("-webkit-mask-image",e,t)}(e,t),await async function(e,t){const a=N(e,HTMLImageElement);if((!a||E(e.src))&&(!N(e,SVGImageElement)||E(e.href.baseVal)))return;const s=a?e.src:e.href.baseVal,n=await L(s,C(s),t);await new Promise((s,i)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...e)=>{try{s(t.onImageErrorHandler(...e))}catch(a){i(a)}}:i;const r=e;r.decode&&(r.decode=s),"lazy"===r.loading&&(r.loading="eager"),a?(e.srcset="",e.src=n):e.href.baseVal=n})}(e,t),await async function(e,t){const a=u(e.childNodes).map(e=>V(e,t));await Promise.all(a).then(()=>e)}(e,t))}const H={};async function G(e){let t=H[e];if(null!=t)return t;const a=await fetch(e);return t={url:e,cssText:await a.text()},H[e]=t,t}async function z(e,t){let a=e.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,n=(a.match(/url\([^)]+\)/g)||[]).map(async n=>{let i=n.replace(s,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),R(i,t.fetchRequestInit,({result:e})=>(a=a.replace(n,`url(${e})`),[n,e]))});return Promise.all(n).then(()=>a)}function W(e){if(null==e)return[];const t=[];let a=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=s.exec(a);if(null===e)break;t.push(e[0])}a=a.replace(s,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=n.exec(a);if(null===e){if(e=i.exec(a),null===e)break;n.lastIndex=i.lastIndex}else i.lastIndex=n.lastIndex;t.push(e[0])}return t}async function Y(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const a=u(e.ownerDocument.styleSheets),s=await async function(e,t){const a=[],s=[];return e.forEach(a=>{if("cssRules"in a)try{u(a.cssRules||[]).forEach((e,n)=>{if(e.type===CSSRule.IMPORT_RULE){let i=n+1;const r=G(e.href).then(e=>z(e,t)).then(e=>W(e).forEach(e=>{try{a.insertRule(e,e.startsWith("@import")?i+=1:a.cssRules.length)}catch(t){}})).catch(e=>{});s.push(r)}})}catch(n){const i=e.find(e=>null==e.href)||document.styleSheets[0];null!=a.href&&s.push(G(a.href).then(e=>z(e,t)).then(e=>W(e).forEach(e=>{i.insertRule(e,i.cssRules.length)})).catch(e=>{}))}}),Promise.all(s).then(()=>(e.forEach(e=>{if("cssRules"in e)try{u(e.cssRules||[]).forEach(e=>{a.push(e)})}catch(t){}}),a))}(a,t);return function(e){return e.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>U(e.style.getPropertyValue("src")))}(s)}function X(e){return e.trim().replace(/["']/g,"")}async function J(e,t){const a=await Y(e,t),s=function(e){const t=new Set;return function e(a){(a.style.fontFamily||getComputedStyle(a).fontFamily).split(",").forEach(e=>{t.add(X(e))}),Array.from(a.children).forEach(t=>{t instanceof HTMLElement&&e(t)})}(e),t}(e);return(await Promise.all(a.filter(e=>s.has(X(e.style.fontFamily))).map(e=>{const a=e.parentStyleSheet?e.parentStyleSheet.href:null;return q(e.cssText,a,t)}))).join("\n")}async function K(e,t={}){const{width:a,height:s}=g(e,t),n=await _(e,t,!0);await async function(e,t){const a=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await J(e,t);if(a){const t=document.createElement("style"),s=document.createTextNode(a);t.appendChild(s),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(n,t),await V(n,t),function(e,t){const{style:a}=e;t.backgroundColor&&(a.backgroundColor=t.backgroundColor),t.width&&(a.width=`${t.width}px`),t.height&&(a.height=`${t.height}px`);const s=t.style;null!=s&&Object.keys(s).forEach(e=>{a[e]=s[e]})}(n,t);return await j(n,a,s)}async function Q(e,t={}){const{width:a,height:s}=g(e,t),n=await K(e,t),i=await y(n),r=document.createElement("canvas"),l=r.getContext("2d"),o=t.pixelRatio||function(){let e,t;try{t=process}catch(s){}const a=t&&t.env?t.env.devicePixelRatio:null;return a&&(e=parseInt(a,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}(),c=t.canvasWidth||a,m=t.canvasHeight||s;return r.width=c*o,r.height=m*o,t.skipAutoScale||function(e){(e.width>x||e.height>x)&&(e.width>x&&e.height>x?e.width>e.height?(e.height*=x/e.width,e.width=x):(e.width*=x/e.height,e.height=x):e.width>x?(e.height*=x/e.width,e.width=x):(e.width*=x/e.height,e.height=x))}(r),r.style.width=`${c}`,r.style.height=`${m}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,r.width,r.height)),l.drawImage(i,0,0,r.width,r.height),r}function Z({players:a,editable:s=!1,onDragStart:n,onDrag:i,onDragEnd:r,showDownload:l=!1}){const o=e.useRef(null),[c,m]=e.useState(!1),d=e.useMemo(()=>`muqawamah-formation-${(new Date).toISOString().split("T")[0]}.png`,[]);return t.jsxs("div",{className:"formation-preview-wrapper",children:[t.jsxs("div",{className:"football-field",ref:o,children:[t.jsx("div",{className:"football-field-surface"}),t.jsx("div",{className:"formation-overlay",style:{pointerEvents:"none"},children:a.map(e=>t.jsxs("div",{className:"player-marker",style:{left:`${e.x}%`,top:`${e.y}%`},children:[t.jsx("div",{className:"player-circle "+(e.isSubstitute?"substitute":""),children:e.image?t.jsx("img",{src:e.image,alt:e.name||e.position}):t.jsx("span",{children:e.position})}),t.jsxs("div",{className:"player-label",children:[t.jsx("strong",{children:e.position}),t.jsx("span",{children:e.name||"Unnamed"})]})]},e.id))})]}),l&&t.jsxs("button",{type:"button",className:"download-formation-btn",onClick:async()=>{if(o.current)try{m(!0);const e=await async function(e,t={}){return(await Q(e,t)).toDataURL()}(o.current,{cacheBust:!0,pixelRatio:window.devicePixelRatio||2,backgroundColor:"#0f1b2c"}),t=document.createElement("a");t.download=d,t.href=e,t.click()}catch(e){alert("Unable to download formation right now. Please try again.")}finally{m(!1)}},disabled:c,children:[t.jsx("i",{className:"fas fa-download"}),t.jsx("span",{children:c?"Preparing...":"Download Formation"})]})]})}const ee=["1-3-2-1","1-2-3-1","1-2-2-2","1-3-1-2","1-4-1-1"],te=(e,t)=>{if(!t)return e;const a=t.split("-").map(e=>parseInt(e,10)).filter(Boolean);if(!a.length)return e;const s=[10,30,55,80],n=[...e],i=e.filter(e=>!e.isSubstitute);let r=0;for(a.forEach((t,a)=>{const l=100/(t+1);for(let o=0;o<t;o++)if(i[r]){const t=i[r],c=l*(o+1),m=s[a]??s[s.length-1];n[e.indexOf(t)]={...t,x:c,y:m},r+=1}});r<i.length;r++){const t=i[r];n[e.indexOf(t)]={...t,x:50,y:50}}return n};function ae(){const{players:a,setPlayers:s,teamData:n,setTeamData:i,setStep:r}=l(),o=e.useRef(null),[c,m]=e.useState(null),[d,u]=e.useState(!1),h=e.useCallback(e=>{const t=te(a,e);s(t),i(t=>({...t,formation:e}))},[a,s,i]);e.useEffect(()=>{if(!d&&n.formation){const e=te(a,n.formation);s(e),u(!0)}},[n.formation,a,s,d]);return t.jsxs("form",{className:"registration-form",onSubmit:e=>{e.preventDefault(),r(4)},children:[t.jsx("h3",{children:"Step 3 Â· Formation & Positions"}),t.jsx("p",{className:"step-description",children:"Drag players around the field or start from a preset."}),t.jsxs("label",{children:["Formation Label",t.jsx("input",{type:"text",value:n.formation,onChange:e=>i(t=>({...t,formation:e.target.value})),placeholder:"e.g., 1-3-2-1"})]}),t.jsxs("div",{className:"formation-presets",children:[ee.map(e=>t.jsx("button",{type:"button",onClick:()=>h(e),children:e},e)),t.jsx("button",{type:"button",onClick:()=>h(n.formation),children:"Apply Current"})]}),t.jsx("div",{ref:o,children:t.jsx(Z,{players:a.filter(e=>!e.isSubstitute),editable:!0,onDragStart:(e,t)=>{m(t)},onDrag:e=>{if(!c||!o.current)return;e.preventDefault();const t=o.current.getBoundingClientRect(),a=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,i=(a-t.left)/t.width*100,r=(n-t.top)/t.height*100;((e,t,a)=>{s(s=>s.map(s=>s.id===e?{...s,x:t,y:a}:s))})(c,Math.min(Math.max(i,0),100),Math.min(Math.max(r,0),100))},onDragEnd:()=>{m(null)}})}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>r(2),children:"Back"}),t.jsx("button",{type:"submit",className:"primary-btn",children:"Review Registration"})]})]})}const se={"open-age":{label:"Open Age",amount:2500,earlyBird:2200,earlyBirdDeadline:"2025-12-15"},u17:{label:"Under 17",amount:2300,earlyBird:2e3,earlyBirdDeadline:"2025-12-15"}};function ne(){const{teamData:e,players:s,setStep:n,loading:i,setLoading:r,error:o,setError:c,existingTeamId:m,setExistingTeamId:d,setSuccessTeamId:u,paymentStatus:h,setPaymentStatus:p}=l(),f=e.category||"open-age",g=se[f],x=new Date<new Date(g.earlyBirdDeadline),y=x?g.earlyBird:g.amount,j=Math.round(2.5*y/100),N=y+j;return"success"===h?t.jsx("div",{className:"registration-form",children:t.jsxs("div",{className:"payment-success",children:[t.jsx("div",{className:"success-icon",children:t.jsx("i",{className:"fas fa-check-circle"})}),t.jsx("h3",{children:"Payment Successful! ðŸŽ‰"}),t.jsxs("p",{children:["Your registration for ",t.jsx("strong",{children:e.teamName})," is now complete."]}),t.jsxs("p",{children:["A confirmation email has been sent to ",t.jsx("strong",{children:e.captainEmail}),"."]}),t.jsxs("div",{className:"payment-receipt",children:[t.jsxs("div",{className:"receipt-row",children:[t.jsx("span",{children:"Amount Paid"}),t.jsxs("span",{children:["â‚¹",N]})]}),t.jsxs("div",{className:"receipt-row",children:[t.jsx("span",{children:"Category"}),t.jsx("span",{children:g.label})]})]})]})}):t.jsxs("div",{className:"registration-form payment-checkout",children:[t.jsx("h3",{children:"Step 5 Â· Payment"}),t.jsx("p",{className:"step-description",children:"Complete your registration by making the payment."}),t.jsxs("section",{className:"checkout-section",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-receipt"})," Order Summary"]}),t.jsxs("div",{className:"order-summary-card",children:[t.jsxs("div",{className:"order-item",children:[t.jsxs("div",{className:"order-item-info",children:[t.jsx("span",{className:"item-name",children:"Team Registration"}),t.jsxs("span",{className:"item-detail",children:[e.teamName," â€¢ ",g.label]})]}),t.jsxs("span",{className:"item-price",children:["â‚¹",g.amount]})]}),x&&t.jsxs("div",{className:"order-item discount",children:[t.jsxs("div",{className:"order-item-info",children:[t.jsx("span",{className:"item-name",children:"ðŸŽ Early Bird Discount"}),t.jsxs("span",{className:"item-detail",children:["Valid until ",new Date(g.earlyBirdDeadline).toLocaleDateString()]})]}),t.jsxs("span",{className:"item-price",children:["-â‚¹",g.amount-g.earlyBird]})]}),t.jsxs("div",{className:"order-item subtotal",children:[t.jsx("span",{className:"item-name",children:"Subtotal"}),t.jsxs("span",{className:"item-price",children:["â‚¹",y]})]}),t.jsxs("div",{className:"order-item fee",children:[t.jsxs("div",{className:"order-item-info",children:[t.jsx("span",{className:"item-name",children:"Payment Gateway Fee"}),t.jsxs("span",{className:"item-detail",children:[2.5,"%"]})]}),t.jsxs("span",{className:"item-price",children:["â‚¹",j]})]}),t.jsxs("div",{className:"order-total",children:[t.jsx("span",{children:"Total Amount"}),t.jsxs("span",{className:"total-price",children:["â‚¹",N]})]})]})]}),t.jsxs("section",{className:"checkout-section",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-users"})," Registration Details"]}),t.jsxs("div",{className:"checkout-team-summary",children:[t.jsxs("div",{className:"team-mini-card",children:[e.teamLogo&&t.jsx("img",{src:e.teamLogo,alt:e.teamName,className:"team-mini-logo"}),t.jsxs("div",{className:"team-mini-info",children:[t.jsx("span",{className:"team-mini-name",children:e.teamName}),t.jsxs("span",{className:"team-mini-category",children:[g.label," â€¢ ",s.length," Players"]})]})]}),t.jsxs("div",{className:"captain-info",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-user"})," ",e.captainName]}),t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-envelope"})," ",e.captainEmail]})]})]})]}),t.jsxs("section",{className:"checkout-section",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-credit-card"})," Payment Methods"]}),t.jsxs("div",{className:"payment-methods",children:[t.jsxs("div",{className:"payment-method",children:[t.jsx("i",{className:"fas fa-mobile-alt"}),t.jsx("span",{children:"UPI"})]}),t.jsxs("div",{className:"payment-method",children:[t.jsx("i",{className:"fas fa-credit-card"}),t.jsx("span",{children:"Cards"})]}),t.jsxs("div",{className:"payment-method",children:[t.jsx("i",{className:"fas fa-university"}),t.jsx("span",{children:"Net Banking"})]}),t.jsxs("div",{className:"payment-method",children:[t.jsx("i",{className:"fas fa-wallet"}),t.jsx("span",{children:"Wallets"})]})]}),t.jsxs("p",{className:"payment-secure-note",children:[t.jsx("i",{className:"fas fa-lock"})," Secured by Easebuzz Payment Gateway"]})]}),o&&t.jsx("p",{className:"auth-error",children:o}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>n(4),disabled:i,children:"Back to Review"}),t.jsx("button",{type:"button",className:"primary-btn pay-btn",onClick:async()=>{r(!0),c(null);try{const{data:{user:t}}=await a.auth.getUser();if(!t)throw new Error("You must be logged in to proceed with payment.");let n=m;if(m){const{error:t}=await a.from("team_registrations").update({team_name:e.teamName,category:e.category,team_logo:e.teamLogo,captain_name:e.captainName,captain_email:e.captainEmail,captain_phone:e.captainPhone,formation:e.formation,status:"pending_payment",payment_amount:N,submitted_at:(new Date).toISOString()}).eq("id",m);if(t)throw t}else{const{data:s,error:i}=await a.from("team_registrations").insert({user_id:t.id,team_name:e.teamName,category:e.category,team_logo:e.teamLogo,captain_name:e.captainName,captain_email:e.captainEmail,captain_phone:e.captainPhone,formation:e.formation,status:"pending_payment",payment_amount:N,submitted_at:(new Date).toISOString()}).select().single();if(i)throw i;n=s.id,d(n)}await a.from("team_players").delete().eq("team_id",n);const i=s.map(e=>({team_id:n,player_name:e.name,position:e.position,is_substitute:e.isSubstitute,player_image:e.image,position_x:e.x,position_y:e.y})),{error:r}=await a.from("team_players").insert(i);if(r)throw r;const l=`MUQ${Date.now()}${n}`,{data:o,error:c}=await a.functions.invoke("easebuzz-initiate",{body:{txnid:l,amount:N,productinfo:`Muqawama 2026 - ${g.label} Registration`,firstname:e.captainName,email:e.captainEmail,phone:e.captainPhone||"9999999999",teamId:n,category:f}});if(c)throw new Error(c.message||"Failed to initiate payment");if(1!==o.status||!o.payUrl)throw new Error(o.error||"Payment initiation failed");window.location.href=o.payUrl}catch(t){c(t.message)}finally{r(!1)}},disabled:i,children:i?t.jsx(t.Fragment,{children:"Processing..."}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-lock"})," Pay â‚¹",N]})})]}),t.jsxs("p",{className:"terms-note",children:["By proceeding, you agree to our"," ",t.jsx("a",{href:"/muqawamah/terms-and-conditions/",target:"_blank",rel:"noreferrer",children:"Terms & Conditions"})," ","and"," ",t.jsx("a",{href:"/muqawamah/refund-policy/",target:"_blank",rel:"noreferrer",children:"Refund Policy"})]})]})}const ie=["GK","CB","LB","RB","CDM","CM","CAM","LM","RM","CF","ST"];function re(){const{players:e,setPlayers:a,setStep:s}=l(),n=(e,t,s)=>{a(a=>a.map((a,n)=>n===e?{...a,[t]:s}:a))},i=e.filter(e=>!e.isSubstitute),r=e.filter(e=>e.isSubstitute),o=(e,a)=>t.jsxs("div",{className:"player-card",children:[t.jsxs("label",{children:["Player Name",t.jsx("input",{type:"text",value:e.name,onChange:e=>n(a,"name",e.target.value),placeholder:e.isSubstitute?"Substitute Name":`${e.position} Player`,required:!0})]}),!e.isSubstitute&&t.jsxs("label",{children:["Position",t.jsx("select",{value:e.position,onChange:e=>n(a,"position",e.target.value),children:ie.map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsxs("label",{className:"file-label",children:["Player Photo",e.image&&t.jsxs("div",{className:"uploaded-photo-preview",children:[t.jsxs("div",{className:"photo-preview-container",children:[t.jsx("img",{src:e.image,alt:"Player photo",className:"photo-preview"}),t.jsx("div",{className:"photo-overlay",children:t.jsx("i",{className:"fas fa-check-circle"})})]}),t.jsxs("div",{className:"uploaded-file-info",children:[t.jsx("i",{className:"fas fa-check-circle"}),t.jsx("span",{children:e.imageFileName?`Uploaded: ${e.imageFileName}`:"Photo uploaded"}),t.jsx("span",{className:"file-change-hint",children:"(Click to change)"})]})]}),t.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var t;return((e,t)=>{if(!t)return;if(t.size>2097152)return void alert("Player photo must be under 2MB");const a=new FileReader;a.onload=a=>{n(e,"image",a.target.result),n(e,"imageFileName",t.name)},a.readAsDataURL(t)})(a,null==(t=e.target.files)?void 0:t[0])}}),!e.image&&t.jsx("span",{className:"input-hint",children:"JPG/PNG up to 2MB. Required."})]})]},e.id);return t.jsxs("form",{className:"registration-form",onSubmit:e=>{e.preventDefault(),(()=>{const e=i.every(e=>e.name&&e.position&&e.image),t=r.every(e=>e.name&&e.image);return e&&t})()?s(3):alert("Please fill out all player names and positions (for main players).")},children:[t.jsx("h3",{children:"Step 2 Â· Players"}),t.jsx("p",{className:"step-description",children:"Provide 7 main players and 4 substitutes."}),t.jsx("h4",{children:"Main Players"}),t.jsx("div",{className:"players-grid",children:i.map((t,a)=>o(t,e.indexOf(t)))}),t.jsx("h4",{children:"Substitutes"}),t.jsx("div",{className:"players-grid",children:r.map(t=>o(t,e.indexOf(t)))}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>s(1),children:"Back"}),t.jsx("button",{type:"submit",className:"primary-btn",children:"Continue to Formation"})]})]})}function le({readOnly:a=!1}){const{teamData:s,players:n,setStep:i,setPlayers:r,existingTeamId:o}=l(),c=e.useRef(null),[m,d]=e.useState(null);return t.jsxs("div",{className:"registration-form",children:[t.jsxs("h3",{children:["Step 4 Â· Review & ",o?"Update":"Submit"]}),t.jsxs("p",{className:"step-description",children:["Verify everything looks good before ",o?"updating":"submitting"," your team."]}),t.jsxs("section",{className:"summary-section",children:[t.jsx("h4",{children:"Team Information"}),t.jsxs("div",{className:"team-info-card",children:[t.jsxs("div",{className:"team-info-header",children:[t.jsx("div",{className:"team-logo-large",children:s.teamLogo?t.jsx("img",{src:s.teamLogo,alt:`${s.teamName} logo`}):t.jsx("div",{className:"team-logo-placeholder-large",children:t.jsx("i",{className:"fas fa-shield-alt"})})}),t.jsxs("div",{className:"team-info-main",children:[t.jsx("h3",{className:"team-name-display",children:s.teamName}),t.jsxs("span",{className:"team-category-badge",children:[t.jsx("i",{className:"fas fa-trophy"})," ","open-age"===s.category?"Open Age":"Under 17"]})]})]}),t.jsxs("div",{className:"team-info-details",children:[t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-user-tie"}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"info-label",children:"Captain"}),t.jsx("span",{className:"info-value",children:s.captainName})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-envelope"}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"info-label",children:"Email"}),t.jsx("span",{className:"info-value",children:s.captainEmail})]})]})]}),s.captainPhone&&t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-phone"}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"info-label",children:"Phone"}),t.jsx("span",{className:"info-value",children:s.captainPhone})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-futbol"}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"info-label",children:"Formation"}),t.jsx("span",{className:"info-value",children:s.formation})]})]})]}),!s.captainPhone&&t.jsx("div",{className:"info-row",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-futbol"}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"info-label",children:"Formation"}),t.jsx("span",{className:"info-value",children:s.formation})]})]})})]})]})]}),t.jsxs("section",{className:"summary-section",children:[t.jsx("h4",{children:"Players"}),t.jsx("div",{className:"player-card-grid",children:n.map((e,a)=>{var n,i;return t.jsxs("div",{className:"player-card-badge simple "+(e.isSubstitute?"substitute":""),children:[t.jsxs("div",{className:"badge-header",children:[t.jsxs("div",{className:"badge-team",children:[t.jsx("div",{className:"team-logo",children:s.teamLogo?t.jsx("img",{src:s.teamLogo,alt:`${s.teamName} logo`}):t.jsx("div",{className:"team-logo-placeholder",children:(null==(i=null==(n=s.teamName)?void 0:n.charAt(0))?void 0:i.toUpperCase())||"T"})}),t.jsxs("div",{className:"team-meta",children:[t.jsx("span",{className:"team-name",children:s.teamName||"Team name"}),t.jsx("span",{className:"player-role",children:e.isSubstitute?"Substitute":e.position||"Player"})]})]}),t.jsx("div",{className:"muqawama-logo",children:t.jsx("img",{src:"/assets/img/MuqawamaLogo.png",alt:"Muqawama 2026"})})]}),t.jsx("div",{className:"badge-photo",children:e.image?t.jsx("img",{src:e.image,alt:e.name||e.position}):t.jsx("div",{className:"badge-photo-placeholder",children:t.jsx("i",{className:"fas fa-user"})})}),t.jsx("div",{className:"badge-player-info",children:t.jsx("span",{className:"player-name",children:e.name||"Unnamed Player"})})]},e.id||a)})})]}),t.jsxs("section",{className:"summary-section",children:[t.jsx("h4",{children:"Formation Preview"}),t.jsx("div",{ref:c,children:t.jsx(Z,{players:n.filter(e=>!e.isSubstitute),editable:!a,onDragStart:(e,t)=>{d(t)},onDrag:e=>{if(!m||!c.current)return;e.preventDefault();const t=c.current.getBoundingClientRect(),a=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY,n=(a-t.left)/t.width*100,i=(s-t.top)/t.height*100;var l,o,d;l=m,o=Math.min(Math.max(n,0),100),d=Math.min(Math.max(i,0),100),r(e=>e.map(e=>e.id===l?{...e,x:o,y:d}:e))},onDragEnd:()=>{d(null)},showDownload:!0})})]}),!a&&t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>i(3),children:"Back"}),t.jsx("button",{type:"button",className:"primary-btn",onClick:()=>{i(5)},children:"Proceed to Payment"})]})]})}const oe=[{value:"open-age",label:"Open Age"},{value:"u17",label:"Under 17"}];function ce(){var a;const{teamData:s,setTeamData:n,setStep:i}=l(),r=e.useRef(null),o=e=>{const{name:t,value:a}=e.target;n(e=>({...e,[t]:a}))};return t.jsxs("form",{className:"registration-form",onSubmit:e=>{var t;if(e.preventDefault(),!s.teamLogo)return void alert("Please upload a team logo");10===((null==(t=s.captainPhone)?void 0:t.replace(/^\+91\s?/g,"").replace(/\s/g,""))||"").length?i(2):alert("Please enter a valid 10-digit mobile number")},children:[t.jsx("h3",{children:"Step 1 Â· Team Details"}),t.jsx("p",{className:"step-description",children:"Tell us about your team and captain information."}),t.jsxs("label",{children:["Team Name",t.jsx("input",{type:"text",name:"teamName",value:s.teamName,onChange:o,placeholder:"e.g., Rising Stars",required:!0})]}),t.jsxs("label",{children:["Category",t.jsx("select",{name:"category",value:s.category,onChange:o,children:oe.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),t.jsxs("label",{className:"file-label",children:["Team Logo",s.teamLogo&&t.jsxs("div",{className:"uploaded-photo-preview",children:[t.jsxs("div",{className:"photo-preview-container",children:[t.jsx("img",{src:s.teamLogo,alt:"Team logo",className:"photo-preview"}),t.jsx("div",{className:"photo-overlay",children:t.jsx("i",{className:"fas fa-check-circle"})})]}),t.jsxs("div",{className:"uploaded-file-info",children:[t.jsx("i",{className:"fas fa-check-circle"}),t.jsx("span",{children:s.teamLogoFileName?`Uploaded: ${s.teamLogoFileName}`:"Logo uploaded"}),t.jsx("span",{className:"file-change-hint",children:"(Click to change)"})]})]}),t.jsx("input",{type:"file",accept:"image/*",ref:r,onChange:e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];if(!a)return;if(a.size>2097152)return alert("Logo size must be under 2MB"),void(r.current.value="");const s=new FileReader;s.onload=e=>{n(t=>({...t,teamLogo:e.target.result,teamLogoFileName:a.name}))},s.readAsDataURL(a)}}),!s.teamLogo&&t.jsx("span",{className:"input-hint",children:"JPG/PNG up to 2MB. Displayed across the tournament site."})]}),t.jsxs("label",{children:["Preferred Formation",t.jsx("select",{name:"formation",value:s.formation,onChange:o,children:ee.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("span",{className:"input-hint",children:"This will be the starting layout in Step 3. You can still adjust players later."})]}),t.jsxs("div",{className:"grid-2",children:[t.jsxs("label",{children:["Captain Name",t.jsx("input",{type:"text",name:"captainName",value:s.captainName,onChange:o,required:!0})]}),t.jsxs("label",{children:["Captain Email",t.jsx("input",{type:"email",name:"captainEmail",value:s.captainEmail,onChange:o,required:!0})]})]}),t.jsxs("label",{children:["Captain Phone",t.jsxs("div",{className:"phone-input-wrapper",children:[t.jsxs("span",{className:"phone-prefix",children:[t.jsx("i",{className:"fas fa-flag"})," +91"]}),t.jsx("input",{type:"tel",name:"captainPhone",value:(null==(a=s.captainPhone)?void 0:a.replace(/^\+91\s?/,"").trim())||"",onChange:e=>{const t=e.target.value.replace(/\D/g,"");let a="";t&&(a="+91 ",t.length<=5?a+=t:a+=`${t.slice(0,5)} ${t.slice(5,10)}`),n(e=>({...e,captainPhone:a}))},placeholder:"98765 43210",pattern:"[0-9\\s]{10,12}",maxLength:12,onInvalid:e=>{var t;const a=e.target;((null==(t=s.captainPhone)?void 0:t.replace(/^\+91\s?/g,"").replace(/\s/g,""))||"").length<10?a.setCustomValidity("Please enter a valid 10-digit mobile number"):a.setCustomValidity("")},onInput:e=>{e.target.setCustomValidity("")},required:!0})]}),t.jsxs("span",{className:"input-hint",children:[t.jsx("i",{className:"fas fa-info-circle"})," 10-digit mobile number (e.g., 98765 43210)"]})]}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",className:"primary-btn",children:"Continue to Players"})})]})}const me=[{id:1,label:"Team"},{id:2,label:"Players"},{id:3,label:"Formation"},{id:4,label:"Review"},{id:5,label:"Payment"}];function de(){const{step:e}=l();return t.jsx("div",{className:"registration-stepper",children:me.map((a,s)=>t.jsxs("div",{className:`step ${e===a.id?"active":""} ${e>a.id?"complete":""}`,children:[t.jsx("span",{className:"step-number",children:s+1}),t.jsx("span",{className:"step-label",children:a.label})]},a.id))})}function ue(){const{step:n,setStep:r,setTeamData:m,setPlayers:d,setExistingTeamId:u,readOnlyMode:h,setReadOnlyMode:p,resetForm:f,existingTeamId:g,setPaymentStatus:x}=l(),[y,j]=e.useState(null),[N,v]=e.useState(!0),[w,b]=e.useState(""),[S,P]=e.useState(!1),C=s.useRef(!1);e.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("payment");"success"===e?(x("success"),r(5),window.history.replaceState({},"",window.location.pathname)):"failed"===e&&(x("failed"),r(5),window.history.replaceState({},"",window.location.pathname))},[]),e.useEffect(()=>{let e=!0;b("");const t=setTimeout(()=>{e&&v(!1)},500);(async()=>{try{window.localStorage.getItem("sb-uzieoxfqkglcoistswxq-auth-token");const{data:s,error:n}=await Promise.race([a.auth.getUser(),new Promise((e,t)=>setTimeout(()=>t(new Error("getUser timeout")),2e3))]);if(!e)return;if(clearTimeout(t),n){if("getUser timeout"===n.message)return j(null),f(),void v(!1);if("Auth session missing!"!==n.message)throw n}const i=(null==s?void 0:s.user)??null;j(i),i?E(i,{force:!0}).catch(e=>{}):f()}catch(s){e&&(j(null),f())}finally{e&&v(!1)}})();const{data:s}=a.auth.onAuthStateChange(async(e,t)=>{const a=(null==t?void 0:t.user)??null;j(a),a?"SIGNED_IN"===e&&await E(a,{force:!0}):(f(),r(1),C.current=!1)});return()=>{e=!1,clearTimeout(t),s.subscription.unsubscribe()}},[]);const E=async(e,{force:t=!1}={})=>{var s;if(!C.current||t){C.current=!0,P(!0),b("");try{const{data:t,error:n}=await a.from("team_registrations").select("*, team_players(*)").eq("user_id",e.id).maybeSingle();if(n&&"PGRST116"!==n.code)throw n;if(t){u(t.id),p(!1),m({teamName:t.team_name||"",category:t.category||"open-age",teamLogo:t.team_logo,captainName:t.captain_name||"",captainEmail:t.captain_email||e.email||"",captainPhone:t.captain_phone?t.captain_phone.startsWith("+91")?t.captain_phone:`+91 ${t.captain_phone.replace(/^\+91\s?/,"")}`:"",formation:t.formation||"1-3-2-1"});const a=(null==(s=t.team_players)?void 0:s.map((e,t)=>({id:e.id||`player-${t}`,name:e.player_name||"",position:e.position||"SUB",isSubstitute:e.is_substitute,image:e.player_image,x:e.position_x??50,y:e.position_y??50})))||o();d(a),r(4)}else u(null),p(!1),m({...c,captainEmail:e.email||""}),d(o()),r(1)}catch(n){b("Could not load your saved registration. You can continue and submitting will overwrite the previous data."),u(null),p(!1),m({...c,captainEmail:e.email||""}),d(o()),r(1)}finally{P(!1)}}};if(N)return t.jsx("div",{className:"loading-screen",children:t.jsxs("div",{className:"loading-content",children:[t.jsxs("div",{className:"logo-loader",children:[t.jsx("div",{className:"logo-ring"}),t.jsx("img",{src:"/assets/img/MuqawamaLogo.png",alt:"Muqawama",className:"logo-pulse"})]}),t.jsx("p",{children:"Loading your registration..."})]})});return y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"header-actions",children:[t.jsx("span",{className:"user-email",children:y.email}),t.jsxs("button",{type:"button",className:"logout-btn",onClick:async()=>{await a.auth.signOut(),j(null),r(1)},children:[t.jsx("i",{className:"fas fa-sign-out-alt"})," Logout"]})]}),t.jsx("div",{className:"registration-header",children:t.jsxs("div",{className:"registration-header-logo",children:[t.jsx("img",{src:"/assets/img/title.png",alt:"Muqawama 2026"}),t.jsx("h2",{className:"registration-header-title",children:"Team Registration"}),t.jsx("p",{children:g?"Edit your team registration and update any details.":"Complete all steps to confirm your team registration."})]})}),S&&t.jsx("p",{className:"auth-message subtle",children:"Loading your saved registrationâ€¦"}),w&&t.jsx("p",{className:"auth-error",children:w}),t.jsx(de,{}),(()=>{switch(n){case 1:default:return t.jsx(ce,{});case 2:return t.jsx(re,{});case 3:return t.jsx(ae,{});case 4:return t.jsx(le,{});case 5:return t.jsx(ne,{})}})()]}):t.jsx(i,{onSuccess:j})}function he(){return e.useEffect(()=>(document.body.classList.add("registration-body"),()=>document.body.classList.remove("registration-body")),[]),t.jsx(m,{children:t.jsx("div",{className:"registration-container",children:t.jsx(ue,{})})})}n.createRoot(document.getElementById("registration-root")).render(t.jsx(s.StrictMode,{children:t.jsx(he,{})}));
