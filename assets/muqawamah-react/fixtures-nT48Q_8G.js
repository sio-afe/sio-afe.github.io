import{r as e,s as a,j as s,c as t,R as c}from"./supabaseClient-Bdusv2SU.js";import{T as m}from"./TournamentNavbar-D2cgzQdF.js";import{F as n}from"./Footer-YZurjJeH.js";function r(){const[t,c]=e.useState([]),[r,i]=e.useState(!0),[l,d]=e.useState(1),[o,h]=e.useState(5);e.useEffect(()=>{x()},[l]);const x=async()=>{try{i(!0);const{data:e,error:s}=await a.from("matches").select("\n          *,\n          home_team:teams!matches_home_team_id_fkey(id, name, crest_url),\n          away_team:teams!matches_away_team_id_fkey(id, name, crest_url)\n        ").eq("matchweek",l).eq("category","open-age").order("match_date",{ascending:!0}).order("match_time",{ascending:!0});if(s)throw s;const{data:t}=await a.from("matches").select("matchweek").eq("category","open-age").order("matchweek",{ascending:!1}).limit(1);t&&t.length>0&&h(t[0].matchweek),c(e||[])}catch(e){}finally{i(!1)}},u=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})};return r?s.jsxs(s.Fragment,{children:[s.jsx(m,{}),s.jsx("div",{className:"fixtures-loading",children:s.jsxs("div",{className:"fixtures-loading-content",children:[s.jsxs("div",{className:"logo-loader",children:[s.jsx("div",{className:"logo-ring"}),s.jsx("img",{src:"/assets/img/MuqawamaLogo.png",alt:"Muqawama",className:"logo-pulse"})]}),s.jsx("p",{children:"Loading fixtures..."})]})}),s.jsx(n,{edition:"2026"})]}):s.jsxs(s.Fragment,{children:[s.jsx(m,{}),s.jsx("div",{className:"fixtures-page",children:s.jsxs("div",{className:"fixtures-container",children:[s.jsx("h1",{className:"fixtures-title",children:"FIXTURES & RESULTS"}),s.jsxs("div",{className:"matchweek-selector",children:[s.jsx("span",{className:"season-label",children:"SEASON 2"}),s.jsx("div",{className:"matchweek-tabs",children:[...Array(o)].map((e,a)=>{const t=a+1;return s.jsx("button",{className:"matchweek-tab "+(l===t?"active":""),onClick:()=>d(t),children:t},t)})})]}),s.jsx("div",{className:"matches-list",children:t.length>0?t.map(e=>{var a,t,c,m,n,r,i,l;const d="finished"===e.status,o=e.home_score??"-",h=e.away_score??"-";return s.jsxs("div",{className:"match-card",children:[s.jsx("div",{className:"match-time",children:d?u(e.match_date):(x=e.match_time,x?x.substring(0,5):"TBD")}),s.jsxs("div",{className:"match-content",children:[s.jsxs("div",{className:"match-team home-team",children:[s.jsx("span",{className:"team-name",children:(null==(a=e.home_team)?void 0:a.name)||"TBD"}),s.jsx("div",{className:"team-logo",children:(null==(t=e.home_team)?void 0:t.crest_url)?s.jsx("img",{src:e.home_team.crest_url,alt:e.home_team.name}):s.jsx("span",{children:(null==(m=null==(c=e.home_team)?void 0:c.name)?void 0:m.charAt(0))||"?"})})]}),s.jsxs("div",{className:"match-score",children:[s.jsx("span",{className:"score-value",children:o}),s.jsx("span",{className:"score-separator",children:"-"}),s.jsx("span",{className:"score-value",children:h})]}),s.jsxs("div",{className:"match-team away-team",children:[s.jsx("div",{className:"team-logo",children:(null==(n=e.away_team)?void 0:n.crest_url)?s.jsx("img",{src:e.away_team.crest_url,alt:e.away_team.name}):s.jsx("span",{children:(null==(i=null==(r=e.away_team)?void 0:r.name)?void 0:i.charAt(0))||"?"})}),s.jsx("span",{className:"team-name",children:(null==(l=e.away_team)?void 0:l.name)||"TBD"})]})]}),e.venue&&s.jsxs("div",{className:"match-venue",children:[s.jsx("i",{className:"fas fa-map-marker-alt"})," ",e.venue]})]},e.id);var x}):s.jsxs("div",{className:"no-matches-found",children:[s.jsx("i",{className:"fas fa-calendar-times"}),s.jsx("p",{children:"No fixtures scheduled for this matchweek"})]})})]})}),s.jsx(n,{edition:"2026"})]})}t.createRoot(document.getElementById("fixtures-root")).render(s.jsx(c.StrictMode,{children:s.jsx(r,{})}));
