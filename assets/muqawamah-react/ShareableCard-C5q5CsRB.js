import{r as a,j as s}from"./supabaseClient-y7L7r4ir.js";import{t as e}from"./index-cwrHH8V6.js";const r=a=>{const s=a.split(","),e=s[0].match(/:(.*?);/)[1],r=atob(s[1]);let n=r.length;const l=new Uint8Array(n);for(;n--;)l[n]=r.charCodeAt(n);return new Blob([l],{type:e})},n=({size:a=18,color:e="rgba(255,255,255,0.6)"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:a,height:a,fill:e,style:{verticalAlign:"middle"},children:s.jsx("path",{d:"M17.34,5.46h0a1.2,1.2,0,1,0,1.2,1.2A1.2,1.2,0,0,0,17.34,5.46Zm4.6,2.42a7.59,7.59,0,0,0-.46-2.43,4.94,4.94,0,0,0-1.16-1.77,4.7,4.7,0,0,0-1.77-1.15,7.3,7.3,0,0,0-2.43-.47C15.06,2,14.72,2,12,2s-3.06,0-4.12.06a7.3,7.3,0,0,0-2.43.47A4.78,4.78,0,0,0,3.68,3.68,4.7,4.7,0,0,0,2.53,5.45a7.3,7.3,0,0,0-.47,2.43C2,8.94,2,9.28,2,12s0,3.06.06,4.12a7.3,7.3,0,0,0,.47,2.43,4.7,4.7,0,0,0,1.15,1.77,4.78,4.78,0,0,0,1.77,1.15,7.3,7.3,0,0,0,2.43.47C8.94,22,9.28,22,12,22s3.06,0,4.12-.06a7.3,7.3,0,0,0,2.43-.47,4.7,4.7,0,0,0,1.77-1.15,4.85,4.85,0,0,0,1.16-1.77,7.59,7.59,0,0,0,.46-2.43c0-1.06.06-1.4.06-4.12S22,8.94,21.94,7.88ZM20.14,16a5.61,5.61,0,0,1-.34,1.86,3.06,3.06,0,0,1-.75,1.15,3.19,3.19,0,0,1-1.15.75,5.61,5.61,0,0,1-1.86.34c-1,.05-1.37.06-4,.06s-3,0-4-.06A5.73,5.73,0,0,1,6.1,19.8,3.27,3.27,0,0,1,5,19.05a3,3,0,0,1-.74-1.15A5.54,5.54,0,0,1,3.86,16c0-1-.06-1.37-.06-4s0-3,.06-4A5.54,5.54,0,0,1,4.21,6.1,3,3,0,0,1,5,5,3.14,3.14,0,0,1,6.1,4.2,5.73,5.73,0,0,1,8,3.86c1,0,1.37-.06,4-.06s3,0,4,.06a5.61,5.61,0,0,1,1.86.34A3.06,3.06,0,0,1,19.05,5,3.06,3.06,0,0,1,19.8,6.1,5.61,5.61,0,0,1,20.14,8c.05,1,.06,1.37.06,4S20.19,15,20.14,16ZM12,6.87A5.13,5.13,0,1,0,17.14,12,5.12,5.12,0,0,0,12,6.87Zm0,8.46A3.33,3.33,0,1,1,15.33,12,3.33,3.33,0,0,1,12,15.33Z"})});function l({match:l,onClose:c}){var i,t,o,d,m,h,u,x;const j=a.useRef(null),[p,g]=a.useState(!1),[N,v]=a.useState(!1),[f,b]=a.useState(null),w=a=>{if(!a)return"TBD";return new Date(a).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()},y=()=>{var a;const s=null==(a=l.match_type)?void 0:a.toLowerCase();return s&&"group"!==s?"quarter-final"===s?"QUARTER FINAL":"semi-final"===s?"SEMI FINAL":"final"===s?"FINAL":"third-place"===s?"3RD PLACE":s.toUpperCase():"GROUP STAGE"},C="completed"===l.status,k="live"===l.status,_=async()=>{if(!j.current)return null;g(!0);try{const a=await e(j.current,{quality:1,pixelRatio:3,backgroundColor:"#0a0e1a"}),s=r(a);return b(s),v(!0),{dataUrl:a,blob:s}}catch(a){return null}finally{g(!1)}},S=async()=>{var a,s;const e=await _();if(e){const r=document.createElement("a");r.download=`match-${null==(a=l.home_team)?void 0:a.name}-vs-${null==(s=l.away_team)?void 0:s.name}.png`,r.href=e.dataUrl,r.click()}};return s.jsx("div",{className:"share-modal-overlay",onClick:c,children:s.jsxs("div",{className:"share-modal-content",onClick:a=>a.stopPropagation(),children:[s.jsx("button",{className:"share-modal-close",onClick:c,children:s.jsx("i",{className:"fas fa-times"})}),s.jsx("div",{className:"shareable-card-wrapper",children:s.jsxs("div",{ref:j,className:"shareable-card match-card",children:[s.jsxs("div",{className:"card-bg-effects",children:[s.jsx("div",{className:"card-glow glow-1"}),s.jsx("div",{className:"card-glow glow-2"})]}),s.jsxs("div",{className:"card-header",children:[s.jsx("img",{src:"/assets/img/muq_invert.png",alt:"Muqawamah",className:"card-tournament-logo",crossOrigin:"anonymous"}),s.jsx("img",{src:"/assets/img/sio-logo-white.png",alt:"SIO",className:"card-sio-logo",crossOrigin:"anonymous"})]}),s.jsxs("div",{className:"card-match-content",children:[s.jsxs("div",{className:"card-team home",children:[s.jsx("div",{className:"card-team-logo",children:(null==(i=l.home_team)?void 0:i.crest_url)?s.jsx("img",{src:l.home_team.crest_url,alt:l.home_team.name,crossOrigin:"anonymous"}):s.jsx("span",{className:"logo-placeholder",children:null==(o=null==(t=l.home_team)?void 0:t.name)?void 0:o.charAt(0)})}),s.jsx("span",{className:"card-team-name",children:null==(d=l.home_team)?void 0:d.name})]}),s.jsx("div",{className:"card-score-horizontal",children:C||k?s.jsxs("div",{className:"score-row",children:[s.jsx("span",{className:"score-number",children:l.home_score??0}),s.jsx("span",{className:"score-divider",children:"-"}),s.jsx("span",{className:"score-number",children:l.away_score??0})]}):s.jsx("span",{className:"score-vs",children:"VS"})}),s.jsxs("div",{className:"card-team away",children:[s.jsx("div",{className:"card-team-logo",children:(null==(m=l.away_team)?void 0:m.crest_url)?s.jsx("img",{src:l.away_team.crest_url,alt:l.away_team.name,crossOrigin:"anonymous"}):s.jsx("span",{className:"logo-placeholder",children:null==(u=null==(h=l.away_team)?void 0:h.name)?void 0:u.charAt(0)})}),s.jsx("span",{className:"card-team-name",children:null==(x=l.away_team)?void 0:x.name})]})]}),s.jsxs("div",{className:"card-status-section",children:[(C||k)&&s.jsx("span",{className:`card-status ${l.status}`,children:C?"FULL TIME":"LIVE"}),s.jsx("span",{className:"card-date-inline",children:w(l.match_date)}),s.jsx("span",{className:"card-match-type-text",children:y()})]}),s.jsx("div",{className:"card-footer",children:s.jsxs("span",{className:"card-instagram",children:[s.jsx(n,{size:18,color:"rgba(255,255,255,0.85)"}),"muqawamah2026"]})})]})}),s.jsxs("div",{className:"share-buttons",children:[s.jsx("h3",{children:"Share to"}),s.jsxs("div",{className:"share-btn-grid two-cols",children:[s.jsxs("button",{className:"share-btn share-native",onClick:async()=>{var a,s,e,r;const n=await _();if(!n)return;const c=`muqawamah-${(null==(a=l.home_team)?void 0:a.name)||"match"}-vs-${(null==(s=l.away_team)?void 0:s.name)||"match"}.png`,i=new File([n.blob],c,{type:"image/png"});if(null==(e=l.home_team)||e.name,C&&l.home_score,C&&l.away_score,null==(r=l.away_team)||r.name,y(),w(l.match_date),navigator.share&&navigator.canShare)try{if(navigator.canShare({files:[i]}))return void(await navigator.share({files:[i]}))}catch(t){if("AbortError"===t.name)return}S()},disabled:p,children:[s.jsx("i",{className:"fas fa-share-alt"}),s.jsx("span",{children:"Share"})]}),s.jsxs("button",{className:"share-btn download",onClick:S,disabled:p,children:[s.jsx("i",{className:"fas fa-download"}),s.jsx("span",{children:"Download"})]})]}),p&&s.jsxs("div",{className:"generating-indicator",children:[s.jsx("i",{className:"fas fa-spinner fa-spin"}),s.jsx("span",{children:"Generating image..."})]})]})]})})}function c({team:l,stats:c,onClose:i}){var t;const o=a.useRef(null),[d,m]=a.useState(!1),h=async()=>{if(!o.current)return null;m(!0);try{const a=await e(o.current,{quality:1,pixelRatio:3,backgroundColor:"#0a0e1a"});return{dataUrl:a,blob:r(a)}}catch(a){return null}finally{m(!1)}},u=async()=>{const a=await h();if(a){const s=document.createElement("a");s.download=`team-${l.name}.png`,s.href=a.dataUrl,s.click()}};return s.jsx("div",{className:"share-modal-overlay",onClick:i,children:s.jsxs("div",{className:"share-modal-content",onClick:a=>a.stopPropagation(),children:[s.jsx("button",{className:"share-modal-close",onClick:i,children:s.jsx("i",{className:"fas fa-times"})}),s.jsx("div",{className:"shareable-card-wrapper",children:s.jsxs("div",{ref:o,className:"shareable-card team-card",children:[s.jsx("div",{className:"card-bg-effects",children:s.jsx("div",{className:"card-glow glow-team",style:{background:l.primary_color||"#4f8cff"}})}),s.jsxs("div",{className:"card-header",children:[s.jsx("img",{src:"/assets/img/muq_invert.png",alt:"Muqawamah",className:"card-tournament-logo",crossOrigin:"anonymous"}),s.jsx("img",{src:"/assets/img/sio-logo-white.png",alt:"SIO",className:"card-sio-logo",crossOrigin:"anonymous"})]}),s.jsxs("div",{className:"card-team-content-v2",children:[s.jsx("div",{className:"team-logo-wrapper",children:l.crest_url?s.jsx("img",{src:l.crest_url,alt:l.name,crossOrigin:"anonymous",className:"team-logo-img"}):s.jsx("span",{className:"team-logo-placeholder",children:null==(t=l.name)?void 0:t.charAt(0)})}),s.jsxs("div",{className:"team-info-wrapper",children:[s.jsx("h2",{className:"team-name-large",children:l.name}),l.captain&&s.jsxs("div",{className:"team-captain-badge",children:[s.jsx("span",{className:"captain-label",children:"Captain:"}),s.jsx("span",{className:"captain-name",children:l.captain})]})]})]}),c&&s.jsxs("div",{className:"card-team-stats-v2",children:[s.jsxs("div",{className:"stat-block",children:[s.jsx("span",{className:"stat-num won",children:c.won||0}),s.jsx("span",{className:"stat-lbl",children:"W"})]}),s.jsx("div",{className:"stat-divider"}),s.jsxs("div",{className:"stat-block",children:[s.jsx("span",{className:"stat-num draw",children:c.drawn||0}),s.jsx("span",{className:"stat-lbl",children:"D"})]}),s.jsx("div",{className:"stat-divider"}),s.jsxs("div",{className:"stat-block",children:[s.jsx("span",{className:"stat-num lost",children:c.lost||0}),s.jsx("span",{className:"stat-lbl",children:"L"})]}),s.jsx("div",{className:"stat-divider"}),s.jsxs("div",{className:"stat-block points",children:[s.jsx("span",{className:"stat-num",children:c.points||0}),s.jsx("span",{className:"stat-lbl",children:"PTS"})]})]}),s.jsx("div",{className:"card-footer",children:s.jsxs("span",{className:"card-instagram",children:[s.jsx(n,{size:18,color:"rgba(255,255,255,0.85)"}),"muqawamah2026"]})})]})}),s.jsxs("div",{className:"share-buttons",children:[s.jsx("h3",{children:"Share to"}),s.jsxs("div",{className:"share-btn-grid two-cols",children:[s.jsxs("button",{className:"share-btn share-native",onClick:async()=>{const a=await h();if(!a)return;const s=`muqawamah-${l.name||"team"}.png`,e=new File([a.blob],s,{type:"image/png"});if(navigator.share&&navigator.canShare)try{if(navigator.canShare({files:[e]}))return void(await navigator.share({files:[e]}))}catch(r){if("AbortError"===r.name)return}u()},disabled:d,children:[s.jsx("i",{className:"fas fa-share-alt"}),s.jsx("span",{children:"Share"})]}),s.jsxs("button",{className:"share-btn download",onClick:u,disabled:d,children:[s.jsx("i",{className:"fas fa-download"}),s.jsx("span",{children:"Download"})]})]}),d&&s.jsxs("div",{className:"generating-indicator",children:[s.jsx("i",{className:"fas fa-spinner fa-spin"}),s.jsx("span",{children:"Generating image..."})]})]})]})})}function i({player:l,team:c,onClose:i}){const t=a.useRef(null),[o,d]=a.useState(!1),m=async()=>{if(!t.current)return null;d(!0);try{const a=await e(t.current,{quality:1,pixelRatio:3,backgroundColor:"#0a0e1a"});return{dataUrl:a,blob:r(a)}}catch(a){return null}finally{d(!1)}},h=async()=>{const a=await m();if(a){const s=document.createElement("a");s.download=`player-${l.name||"player"}.png`,s.href=a.dataUrl,s.click()}},u=a=>{const s=null==a?void 0:a.toUpperCase();return"GK"===s?"#fbbf24":["CB","LB","RB","LWB","RWB"].includes(s)?"#60a5fa":["CM","CDM","CAM","LM","RM"].includes(s)?"#4ade80":["ST","CF","LW","RW"].includes(s)?"#f87171":"#a78bfa"};return s.jsx("div",{className:"share-modal-overlay",onClick:i,children:s.jsxs("div",{className:"share-modal-content",onClick:a=>a.stopPropagation(),children:[s.jsx("button",{className:"share-modal-close",onClick:i,children:s.jsx("i",{className:"fas fa-times"})}),s.jsx("div",{className:"shareable-card-wrapper",children:s.jsxs("div",{ref:t,className:"shareable-card player-card",children:[s.jsx("div",{className:"card-bg-effects",children:s.jsx("div",{className:"card-glow glow-player",style:{background:u(l.position)}})}),s.jsxs("div",{className:"card-header",children:[s.jsx("img",{src:"/assets/img/muq_invert.png",alt:"Muqawamah",className:"card-tournament-logo",crossOrigin:"anonymous"}),s.jsx("img",{src:"/assets/img/sio-logo-white.png",alt:"SIO",className:"card-sio-logo",crossOrigin:"anonymous"})]}),s.jsxs("div",{className:"card-player-content",children:[s.jsxs("div",{className:"player-photo-wrapper",children:[l.image?s.jsx("img",{src:l.image,alt:l.name,crossOrigin:"anonymous",className:"player-photo-img"}):s.jsx("div",{className:"player-photo-placeholder",children:s.jsx("i",{className:"fas fa-user"})}),l.position&&s.jsx("span",{className:"player-position-badge",style:{background:u(l.position)},children:l.position})]}),s.jsxs("div",{className:"player-info-wrapper",children:[l.jersey_number&&s.jsxs("span",{className:"player-jersey",children:["#",l.jersey_number]}),s.jsx("h2",{className:"player-name-large",children:l.name}),c&&s.jsxs("div",{className:"player-team-badge",children:[c.crest_url&&s.jsx("img",{src:c.crest_url,alt:c.name,className:"player-team-crest",crossOrigin:"anonymous"}),s.jsx("span",{className:"player-team-name",children:c.name})]})]})]}),s.jsxs("div",{className:"card-player-stats",children:[void 0!==l.goals&&s.jsxs("div",{className:"player-stat-block",children:[s.jsx("span",{className:"player-stat-num",children:l.goals||0}),s.jsx("span",{className:"player-stat-lbl",children:"Goals"})]}),void 0!==l.assists&&s.jsxs("div",{className:"player-stat-block",children:[s.jsx("span",{className:"player-stat-num",children:l.assists||0}),s.jsx("span",{className:"player-stat-lbl",children:"Assists"})]}),l.is_captain&&s.jsxs("div",{className:"player-stat-block captain",children:[s.jsx("span",{className:"player-stat-icon",children:"Â©"}),s.jsx("span",{className:"player-stat-lbl",children:"Captain"})]})]}),s.jsx("div",{className:"card-footer",children:s.jsxs("span",{className:"card-instagram",children:[s.jsx(n,{size:18,color:"rgba(255,255,255,0.85)"}),"muqawamah2026"]})})]})}),s.jsxs("div",{className:"share-buttons",children:[s.jsx("h3",{children:"Share to"}),s.jsxs("div",{className:"share-btn-grid two-cols",children:[s.jsxs("button",{className:"share-btn share-native",onClick:async()=>{const a=await m();if(!a)return;const s=`muqawamah-${l.name||"player"}.png`,e=new File([a.blob],s,{type:"image/png"});if(navigator.share&&navigator.canShare)try{if(navigator.canShare({files:[e]}))return void(await navigator.share({files:[e]}))}catch(r){if("AbortError"===r.name)return}h()},disabled:o,children:[s.jsx("i",{className:"fas fa-share-alt"}),s.jsx("span",{children:"Share"})]}),s.jsxs("button",{className:"share-btn download",onClick:h,disabled:o,children:[s.jsx("i",{className:"fas fa-download"}),s.jsx("span",{children:"Download"})]})]}),o&&s.jsxs("div",{className:"generating-indicator",children:[s.jsx("i",{className:"fas fa-spinner fa-spin"}),s.jsx("span",{children:"Generating image..."})]})]})]})})}function t({statType:l,items:c,onClose:i}){const t=a.useRef(null),[o,d]=a.useState(!1),m=async()=>{if(!t.current)return null;d(!0);try{const a=await e(t.current,{quality:1,pixelRatio:3,backgroundColor:"#0a0e1a"});return{dataUrl:a,blob:r(a)}}catch(a){return null}finally{d(!1)}},h=async()=>{const a=await m();if(a){const s=document.createElement("a");s.download=`muqawamah-top-${l}.png`,s.href=a.dataUrl,s.click()}},u=a=>0===a?"#FFD700":1===a?"#C0C0C0":2===a?"#CD7F32":"#666",x=c.slice(0,3);return s.jsx("div",{className:"share-modal-overlay",onClick:i,children:s.jsxs("div",{className:"share-modal-content",onClick:a=>a.stopPropagation(),children:[s.jsx("button",{className:"share-modal-close",onClick:i,children:s.jsx("i",{className:"fas fa-times"})}),s.jsx("div",{className:"shareable-card-wrapper",children:s.jsxs("div",{ref:t,className:"shareable-card stats-card",children:[s.jsxs("div",{className:"card-bg-effects",children:[s.jsx("div",{className:"card-glow glow-1"}),s.jsx("div",{className:"card-glow glow-2"})]}),s.jsxs("div",{className:"card-header",children:[s.jsx("img",{src:"/assets/img/muq_invert.png",alt:"Muqawamah",className:"card-tournament-logo",crossOrigin:"anonymous"}),s.jsx("img",{src:"/assets/img/sio-logo-white.png",alt:"SIO",className:"card-sio-logo",crossOrigin:"anonymous"})]}),s.jsxs("div",{className:"stats-card-title",children:[s.jsx("span",{className:"stats-icon",children:(()=>{switch(l){case"goals":return"âš½";case"assists":return"ðŸŽ¯";case"points":return"ðŸ†";case"wins":return"ðŸ¥‡";case"clean_sheets":return"ðŸ§¤";default:return"ðŸ“Š"}})()}),s.jsx("h2",{children:(()=>{switch(l){case"goals":return"Top Scorers";case"assists":return"Top Assists";case"points":return"Team Standings";case"wins":return"Most Wins";case"clean_sheets":return"Clean Sheets";default:return l.charAt(0).toUpperCase()+l.slice(1)}})()})]}),s.jsx("div",{className:"stats-leaderboard",children:x.map((a,e)=>{var r;return s.jsxs("div",{className:`stats-rank-item rank-${e+1}`,children:[s.jsx("div",{className:"rank-medal",style:{background:u(e)},children:e+1}),s.jsx("div",{className:"rank-avatar",children:a.image||a.crest_url?s.jsx("img",{src:a.image||a.crest_url,alt:a.name,crossOrigin:"anonymous"}):s.jsx("span",{className:"rank-initial",children:null==(r=a.name)?void 0:r.charAt(0)})}),s.jsxs("div",{className:"rank-info",children:[s.jsx("span",{className:"rank-name",children:a.name}),a.team_name&&s.jsx("span",{className:"rank-team",children:a.team_name})]}),s.jsx("div",{className:"rank-value",children:a.value})]},e)})}),s.jsx("div",{className:"card-footer",children:s.jsxs("span",{className:"card-instagram",children:[s.jsx(n,{size:18,color:"rgba(255,255,255,0.85)"}),"muqawamah2026"]})})]})}),s.jsxs("div",{className:"share-buttons",children:[s.jsx("h3",{children:"Share to"}),s.jsxs("div",{className:"share-btn-grid two-cols",children:[s.jsxs("button",{className:"share-btn share-native",onClick:async()=>{const a=await m();if(!a)return;const s=`muqawamah-top-${l}.png`,e=new File([a.blob],s,{type:"image/png"});if(navigator.share&&navigator.canShare)try{if(navigator.canShare({files:[e]}))return void(await navigator.share({files:[e]}))}catch(r){if("AbortError"===r.name)return}h()},disabled:o,children:[s.jsx("i",{className:"fas fa-share-alt"}),s.jsx("span",{children:"Share"})]}),s.jsxs("button",{className:"share-btn download",onClick:h,disabled:o,children:[s.jsx("i",{className:"fas fa-download"}),s.jsx("span",{children:"Download"})]})]}),o&&s.jsxs("div",{className:"generating-indicator",children:[s.jsx("i",{className:"fas fa-spinner fa-spin"}),s.jsx("span",{children:"Generating image..."})]})]})]})})}function o({onClick:a,className:e=""}){return s.jsxs("button",{className:`share-trigger-btn ${e}`,onClick:a,title:"Share",children:[s.jsx("i",{className:"fas fa-share-alt"}),s.jsx("span",{children:"Share"})]})}export{l as M,i as P,o as S,c as T,t as a};
