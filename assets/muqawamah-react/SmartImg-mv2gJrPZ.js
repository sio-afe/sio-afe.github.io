import{r as t,j as e}from"./supabaseClient-y7L7r4ir.js";const n={crestSm:"_thumb",crestMd:"_thumb",matchCrest:"_thumb",playerAvatar:"_thumb",playerCard:"_card"};function r({src:r,alt:s="",className:l,preset:a,loading:c="lazy",decoding:o="async",fetchpriority:i,style:u,...m}){const[p,d]=t.useState(!1),f=t.useMemo(()=>{if(!r||"string"!=typeof r)return null;const t=a?n[a]:null;return t?function(t,e){try{const n=new URL(t),r=n.pathname.split("/"),s=r.pop()||"",l=s.lastIndexOf(".");if(-1===l)return null;const a=`${s.slice(0,l)}${e}${s.slice(l)}`;return n.pathname=[...r,a].join("/"),n.toString()}catch{const n=t.lastIndexOf(".");return-1===n?null:`${t.slice(0,n)}${e}${t.slice(n)}`}}(r,t):null},[r,a]),h=!p&&f?f:r;return r?e.jsx("img",{src:h,alt:s,className:l,loading:c,decoding:o,fetchpriority:i,style:u,onError:()=>{p||d(!0)},...m}):null}export{r as S};
