var s;import{r as a,j as e,s as t,c as i,R as l}from"./supabaseClient-Bdusv2SU.js";import{m as n,A as r}from"./index-BwWVTxsx.js";/* empty css            */function c({teams:s,category:t}){const[i,l]=a.useState(null),r=s=>s+1,c=s=>s<4?"qualification-zone":"",d=s=>s>0?`+${s}`:s,h=()=>{l(null)};return e.jsxs("div",{className:"standings-container",children:[e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{className:"standings-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"POS"}),e.jsx("th",{className:"team-column",children:"TEAMS"}),e.jsx("th",{className:"mobile-hide",children:"P"}),e.jsx("th",{className:"mobile-hide",children:"W"}),e.jsx("th",{className:"mobile-hide",children:"D"}),e.jsx("th",{className:"mobile-hide",children:"L"}),e.jsx("th",{children:"GF"}),e.jsx("th",{children:"GA"}),e.jsx("th",{children:"GD"}),e.jsx("th",{className:"points-column",children:"PTS"}),e.jsx("th",{className:"form-column mobile-hide",children:"FORM"})]})}),e.jsx("tbody",{children:s.map((s,a)=>e.jsxs(n.tr,{className:c(a),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},onClick:()=>l(s),children:[e.jsx("td",{className:"position-cell",children:e.jsx("div",{className:`position-indicator ${c(a)}`,children:r(a)})}),e.jsxs("td",{className:"team-cell",children:[e.jsxs("div",{className:"team-info",children:[e.jsx("img",{src:s.crest_url||"/assets/data/open-age/team-logos/default.png",alt:s.name,className:"team-crest-small",loading:"lazy",onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}}),e.jsx("span",{className:"team-name",children:s.name})]}),e.jsx("div",{className:"mobile-form",children:m(s.form)})]}),e.jsx("td",{className:"mobile-hide",children:s.played||0}),e.jsx("td",{className:"mobile-hide stat-win",children:s.won||0}),e.jsx("td",{className:"mobile-hide",children:s.drawn||0}),e.jsx("td",{className:"mobile-hide stat-loss",children:s.lost||0}),e.jsx("td",{children:s.goals_for||0}),e.jsx("td",{children:s.goals_against||0}),e.jsx("td",{className:"gd-cell "+(s.gd>0?"positive":s.gd<0?"negative":""),children:d(s.gd||0)}),e.jsx("td",{className:"points-cell",children:e.jsx("strong",{children:s.points||0})}),e.jsx("td",{className:"form-cell mobile-hide",children:o(s.form)})]},s.id))})]})}),e.jsx("div",{className:"table-legend",children:e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"legend-indicator qualification-zone"}),e.jsx("span",{children:"Qualification to Semi-Finals"})]})}),i&&e.jsx(n.div,{className:"team-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h,children:e.jsxs(n.div,{className:"team-popup-content",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"close-popup-btn",onClick:h,children:e.jsx("i",{className:"fas fa-times"})}),e.jsxs("div",{className:"popup-header",children:[e.jsx("img",{src:i.crest_url||"/assets/data/open-age/team-logos/default.png",alt:i.name,className:"popup-team-crest",onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}}),e.jsx("h2",{children:i.name}),i.captain&&e.jsxs("p",{className:"captain-info",children:[e.jsx("i",{className:"fas fa-user-tie"}),"Captain: ",i.captain]})]}),e.jsxs("div",{className:"popup-stats",children:[e.jsxs("div",{className:"stat-row",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Played"}),e.jsx("span",{className:"stat-value",children:i.played||0})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Won"}),e.jsx("span",{className:"stat-value",children:i.won||0})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Drawn"}),e.jsx("span",{className:"stat-value",children:i.drawn||0})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Lost"}),e.jsx("span",{className:"stat-value",children:i.lost||0})]})]}),e.jsxs("div",{className:"stat-row",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Goals For"}),e.jsx("span",{className:"stat-value",children:i.goals_for||0})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Goals Against"}),e.jsx("span",{className:"stat-value",children:i.goals_against||0})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Goal Difference"}),e.jsx("span",{className:"stat-value "+(i.gd>0?"positive":i.gd<0?"negative":""),children:d(i.gd||0)})]}),e.jsxs("div",{className:"stat-item highlighted",children:[e.jsx("span",{className:"stat-label",children:"Points"}),e.jsx("span",{className:"stat-value",children:i.points||0})]})]})]})]})})]})}function o(s){return s?e.jsx("div",{className:"form-indicators",children:s.split("").slice(0,5).map((s,a)=>e.jsx("span",{className:`form-result ${s.toLowerCase()}`,children:s},a))}):e.jsx("span",{className:"no-form",children:"-"})}function m(s){return s?e.jsx("div",{className:"form-indicators-mobile",children:s.split("").slice(0,3).map((s,a)=>e.jsxs("span",{className:`form-result-mobile ${s.toLowerCase()}`,children:["W"===s&&e.jsx("i",{className:"fas fa-check-circle"}),"D"===s&&e.jsx("i",{className:"fas fa-minus-circle"}),"L"===s&&e.jsx("i",{className:"fas fa-times-circle"})]},a))}):null}function d({fixtures:s}){const[i,l]=a.useState("all"),[c,o]=a.useState(null),[m,d]=a.useState(null),[h,u]=a.useState(!1),[p,x]=a.useState("overview"),[j,g]=a.useState({home:[],away:[]}),[f,v]=a.useState(!1);var N;const y=(s=>{const a={};return s.forEach(s=>{const e=(s.match_time?new Date(s.match_time):new Date(s.match_date)).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});a[e]||(a[e]=[]),a[e].push(s)}),a})((N=s,"all"===i?N:"completed"===i?N.filter(s=>"completed"===s.status):"upcoming"===i?N.filter(s=>"completed"!==s.status):N)),_=s=>{if("completed"===s.status)return e.jsx("span",{className:"status-badge completed",children:"FT"});if("live"===s.status)return e.jsx("span",{className:"status-badge live",children:"LIVE"});{const a=s.match_time||s.match_date,t=new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return e.jsx("span",{className:"status-badge upcoming",children:t})}},b=s=>{try{return JSON.parse(s)}catch(a){return null}},w=s=>{if(!s)return[];if("string"==typeof s){const a=b(s);return Array.isArray(a)?a:[]}return Array.isArray(s)?s:[]},k=async(s,a)=>{if(!a||!s)return g({home:[],away:[]}),void v(!1);const e=s.home_team||s.homeTeam,t=s.away_team||s.awayTeam;if(!(null==e?void 0:e.id)||!(null==t?void 0:t.id))return g({home:[],away:[]}),void v(!1);try{const{data:s,error:i}=await a.from("goals").select("\n          team_id,\n          scorer_id,\n          assister_id,\n          scorer:team_players!goals_scorer_id_fkey(player_name),\n          assister:team_players!goals_assister_id_fkey(player_name)\n        ").in("team_id",[e.id,t.id]);if(i)throw i;const l=s,n=s=>{if(!(null==s?void 0:s.id))return[];const a={};return w(s.players||[]).forEach(s=>{if(!(null==s?void 0:s.name))return;const e=s.name.toLowerCase();a[e]={id:s.id||e,name:s.name,position:s.position||"",player_image:s.player_image,goals:0,assists:0}}),(l||[]).forEach(e=>{var t,i;if(e.team_id===s.id){if(null==(t=e.scorer)?void 0:t.player_name){const s=e.scorer.player_name.toLowerCase();a[s]||(a[s]={id:e.scorer_id||s,name:e.scorer.player_name,position:"",goals:0,assists:0}),a[s].goals+=1}if(null==(i=e.assister)?void 0:i.player_name){const s=e.assister.player_name.toLowerCase();a[s]||(a[s]={id:e.assister_id||s,name:e.assister.player_name,position:"",goals:0,assists:0}),a[s].assists+=1}}}),Object.values(a).sort((s,a)=>a.goals+a.assists-(s.goals+s.assists))};g({home:n(e),away:n(t)})}catch(i){g({home:[],away:[]})}finally{v(!1)}},S=()=>{o(null),d(null),x("overview"),g({home:[],away:[]})},C=(s,a,t)=>s.length?s.map(s=>{var t,i;const l=(null==(t=s.scorer)?void 0:t.player_name)||s.scorer_name||"Unknown",n=(null==(i=s.assister)?void 0:i.player_name)||s.assist_name;return e.jsxs("div",{className:"highlight-card "+(s.team_name===a?"home":"away"),children:[e.jsxs("div",{className:"highlight-minute",children:[s.minute,"â€™"]}),e.jsxs("div",{className:"highlight-details",children:[e.jsx("span",{className:"highlight-player",children:l}),n&&e.jsxs("span",{className:"highlight-assist",children:["Assist: ",n]})]})]},s.id||`${l}-${s.minute}`)}):e.jsxs("div",{className:"empty-highlights",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsx("p",{children:"No goals recorded for this match."})]}),$=(s,a=!1)=>s.length?s.map(s=>{const t="number"==typeof s.position_x?s.position_x:50,i="number"==typeof s.position_y?s.position_y:50;let l,n;a?(l=100-t,n=52.5+.45*i):(l=t,n=47.5-.45*i);const r=Math.min(95,Math.max(5,l)),c=Math.min(97.5,Math.max(2.5,n));return e.jsxs("div",{className:"field-player",style:{left:`${r}%`,top:`${c}%`},children:[e.jsx("div",{className:"field-player-avatar",children:e.jsx("img",{src:s.player_image||"/assets/data/open-age/team-logos/default.png",alt:s.name,loading:"lazy",onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}})}),e.jsx("span",{className:"field-player-name",children:s.name})]},s.id||`${s.name}-${s.position}`)}):null,M=(s,a,t)=>e.jsxs("div",{className:"team-subs-card",children:[e.jsxs("div",{className:"team-subs-header",children:[e.jsx("img",{src:t,alt:"",className:"subs-team-crest"}),e.jsx("h5",{children:s})]}),a.length?e.jsx("div",{className:"substitutes-grid",children:a.map(s=>e.jsxs("div",{className:"substitute-item",children:[e.jsxs("div",{className:"substitute-avatar",children:[e.jsx("img",{src:s.player_image||"/assets/data/open-age/team-logos/default.png",alt:s.name,onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}}),s.number&&e.jsxs("span",{className:"sub-number",children:["#",s.number]})]}),e.jsxs("div",{className:"substitute-info",children:[e.jsx("span",{className:"sub-name",children:s.name}),e.jsx("span",{className:"sub-position",children:s.position})]})]},s.id||`${s.name}-sub`))}):e.jsx("p",{className:"muted-text",children:"No substitutes listed."})]}),A=(s,a,t)=>e.jsxs("div",{className:"player-stats-card",children:[e.jsxs("div",{className:"player-stats-heading",children:[a&&e.jsx("img",{src:a,alt:s,onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:s}),e.jsx("p",{className:"caption",children:"Tournament totals"})]})]}),f?e.jsxs("div",{className:"player-stats-loading",children:[e.jsx("div",{className:"loading-spinner small"}),e.jsx("p",{children:"Loading player contributions..."})]}):t.length?e.jsx("div",{className:"player-stat-list",children:t.map(s=>e.jsxs("div",{className:"player-stat-row",children:[e.jsxs("div",{className:"player-stat-info",children:[e.jsx("div",{className:"player-avatar-mini",children:e.jsx("img",{src:s.player_image||"/assets/data/open-age/team-logos/default.png",alt:s.name,onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"player-name",children:s.name}),e.jsx("span",{className:"player-role",children:s.position||"Player"})]})]}),e.jsxs("div",{className:"player-stat-metrics",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-futbol"}),s.goals||0]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-hands-helping"}),s.assists||0]})]})]},s.id))}):e.jsx("div",{className:"player-stats-empty",children:e.jsx("p",{children:"No recorded goals or assists yet."})})]});return e.jsxs("div",{className:"fixtures-container",children:[e.jsxs("div",{className:"fixtures-filter",children:[e.jsx("button",{className:"filter-btn "+("all"===i?"active":""),onClick:()=>l("all"),children:"All Matches"}),e.jsx("button",{className:"filter-btn "+("completed"===i?"active":""),onClick:()=>l("completed"),children:"Completed"}),e.jsx("button",{className:"filter-btn "+("upcoming"===i?"active":""),onClick:()=>l("upcoming"),children:"Upcoming"})]}),e.jsx("div",{className:"fixtures-list",children:0===Object.keys(y).length?e.jsxs("div",{className:"no-fixtures",children:[e.jsx("i",{className:"fas fa-calendar-times"}),e.jsx("p",{children:"No fixtures found"})]}):Object.entries(y).map(([s,a],i)=>e.jsxs("div",{className:"fixture-date-group",children:[e.jsxs("div",{className:"fixture-date-header",children:[e.jsx("i",{className:"fas fa-calendar-day"}),e.jsx("h3",{children:s})]}),e.jsx("div",{className:"fixture-cards",children:a.map((s,a)=>{var i,l,r,c,m,h;return e.jsxs(n.div,{className:`fixture-card ${s.status} ${"completed"===s.status?"clickable":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},onClick:()=>(async s=>{if("completed"===s.status){o(s),x("overview"),u(!0),g({home:[],away:[]}),v(!0);try{const a=window.supabaseClient||t;if(a){const{data:e,error:t}=await a.from("goals").select("\n            id,\n            minute,\n            team_id,\n            goal_type,\n            scorer_id,\n            assister_id,\n            scorer:team_players!goals_scorer_id_fkey(player_name, player_image),\n            assister:team_players!goals_assister_id_fkey(player_name, player_image)\n          ").eq("match_id",s.id).order("minute"),i={...s,goals:e||[],home_team:s.home_team,away_team:s.away_team};d(i),await k(s,a)}else d(s),v(!1)}catch(a){d(s),v(!1)}finally{u(!1)}}})(s),style:{cursor:"completed"===s.status?"pointer":"default"},children:[e.jsxs("div",{className:"fixture-header",children:[_(s),s.venue&&e.jsxs("span",{className:"fixture-venue",children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),s.venue]})]}),e.jsxs("div",{className:"fixture-teams",children:[e.jsxs("div",{className:"fixture-team home",children:[e.jsx("img",{src:(null==(i=s.home_team)?void 0:i.crest_url)||"/assets/data/open-age/team-logos/default.png",alt:null==(l=s.home_team)?void 0:l.name,className:"fixture-team-crest",loading:"lazy",onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}}),e.jsx("span",{className:"fixture-team-name",children:(null==(r=s.home_team)?void 0:r.name)||"TBD"})]}),e.jsx("div",{className:"fixture-score",children:"completed"===s.status||"live"===s.status?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"score-display "+(s.home_score>s.away_score?"winner":""),children:s.home_score||0}),e.jsx("span",{className:"score-separator",children:"-"}),e.jsx("span",{className:"score-display "+(s.away_score>s.home_score?"winner":""),children:s.away_score||0})]}):e.jsx("span",{className:"vs-text",children:"VS"})}),e.jsxs("div",{className:"fixture-team away",children:[e.jsx("span",{className:"fixture-team-name",children:(null==(c=s.away_team)?void 0:c.name)||"TBD"}),e.jsx("img",{src:(null==(m=s.away_team)?void 0:m.crest_url)||"/assets/data/open-age/team-logos/default.png",alt:null==(h=s.away_team)?void 0:h.name,className:"fixture-team-crest",loading:"lazy",onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}})]})]}),"completed"===s.status&&s.winner&&e.jsx("div",{className:"fixture-footer",children:e.jsxs("span",{className:"winner-badge",children:[e.jsx("i",{className:"fas fa-trophy"}),"Winner: ",s.winner]})})]},s.id)})})]},s))}),e.jsx(r,{children:c&&e.jsx(n.div,{className:"match-details-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:S,children:e.jsxs(n.div,{className:"match-details-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"close-modal-btn",onClick:S,children:e.jsx("i",{className:"fas fa-times"})}),h?e.jsxs("div",{className:"loading-details",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading match details..."})]}):m?e.jsx("div",{className:"match-details-content",children:(()=>{var s,a,t,i,l,n,r,o,d,h,u,g,f,v,N,y;const _=(null==m?void 0:m.match)||{},k=(null==m?void 0:m.home_team)||c.home_team||{},S=(null==m?void 0:m.away_team)||c.away_team||{},L=w(k.players),E=w(S.players),D=(s=>{if(!s)return[];if("string"==typeof s){const a=b(s);return Array.isArray(a)?a:[]}return Array.isArray(s)?s:[]})(null==m?void 0:m.goals),q=new Date(c.match_time||c.match_date),T=_.home_score??c.home_score??0,F=_.away_score??c.away_score??0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"match-details-header",children:[e.jsxs("div",{children:[e.jsx("span",{className:"match-status-pill "+("completed"===c.status?"status-completed":"live"===c.status?"status-live":"status-scheduled"),children:"completed"===c.status?"FULL TIME":"live"===c.status?"LIVE":"SCHEDULED"}),e.jsxs("h2",{children:[k.name||(null==(s=c.home_team)?void 0:s.name)||"Home"," vs ",S.name||(null==(a=c.away_team)?void 0:a.name)||"Away"]}),e.jsxs("p",{className:"match-date",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),q.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),c.venue&&e.jsxs("div",{className:"match-meta-chip",children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),c.venue]})]}),e.jsxs("div",{className:"match-details-tabs",children:[e.jsx("button",{className:"overview"===p?"active":"",onClick:()=>x("overview"),children:"Overview"}),e.jsx("button",{className:"lineups"===p?"active":"",onClick:()=>x("lineups"),children:"Lineups"}),e.jsx("button",{className:"players"===p?"active":"",onClick:()=>x("players"),children:"Players"})]}),e.jsxs("div",{className:"match-tab-content",children:["overview"===p&&e.jsxs("div",{className:"match-overview",children:[e.jsxs("div",{className:"scoreboard-card scoreboard-google",children:[e.jsx("div",{className:"score-meta-row",children:e.jsx("span",{className:"score-competition",children:"u17"===c.category?"U17 Division":"Open Age Division"})}),e.jsxs("div",{className:"score-line",children:[e.jsx("img",{className:"score-crest",src:k.crest_url||(null==(t=c.home_team)?void 0:t.crest_url)||"/assets/data/open-age/team-logos/default.png",alt:k.name||(null==(i=c.home_team)?void 0:i.name)}),e.jsx("span",{className:"score-digit "+(T>F?"winner":""),children:T}),e.jsx("span",{className:"score-hyphen",children:"-"}),e.jsx("span",{className:"score-digit "+(F>T?"winner":""),children:F}),e.jsx("img",{className:"score-crest",src:S.crest_url||(null==(l=c.away_team)?void 0:l.crest_url)||"/assets/data/open-age/team-logos/default.png",alt:S.name||(null==(n=c.away_team)?void 0:n.name)})]}),(c.match_type||c.match_number)&&e.jsx("div",{className:"score-stage-row",children:c.match_type?c.match_type.replace(/-/g," "):`Match ${c.match_number}`})]}),e.jsxs("div",{className:"goal-highlights-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("p",{children:"Highlights"}),e.jsx("span",{children:"Goals & key moments"})]}),e.jsx("div",{className:"highlight-list",children:C(D,k.name,S.name)})]})]}),"lineups"===p&&(L.length||E.length?e.jsxs("div",{className:"lineups-section-modern",children:[e.jsxs("div",{className:"match-lineup-field-svg",children:[e.jsxs("svg",{viewBox:"0 0 74 111",xmlns:"http://www.w3.org/2000/svg",className:"football-field-svg",preserveAspectRatio:"xMidYMid meet",children:[e.jsx("rect",{width:"74",height:"111",fill:"#00a000"}),e.jsxs("g",{fill:"none",stroke:"#fff",strokeWidth:"0.5",transform:"translate(3 3)",children:[e.jsx("path",{d:"M 0 0 h 68 v 105 h -68 Z"}),e.jsx("path",{d:"M 0 52.5 h 68"}),e.jsx("circle",{r:"9.15",cx:"34",cy:"52.5"}),e.jsx("circle",{r:"0.75",cx:"34",cy:"52.5",fill:"#fff",stroke:"none"}),e.jsxs("g",{children:[e.jsx("path",{d:"M 13.84 0 v 16.5 h 40.32 v -16.5"}),e.jsx("path",{d:"M 24.84 0 v 5.5 h 18.32 v -5.5"}),e.jsx("circle",{r:"0.75",cx:"34",cy:"10.94",fill:"#fff",stroke:"none"}),e.jsx("path",{d:"M 26.733027 16.5 a 9.15 9.15 0 0 0 14.533946 0"})]}),e.jsxs("g",{transform:"rotate(180,34,52.5)",children:[e.jsx("path",{d:"M 13.84 0 v 16.5 h 40.32 v -16.5"}),e.jsx("path",{d:"M 24.84 0 v 5.5 h 18.32 v -5.5"}),e.jsx("circle",{r:"0.75",cx:"34",cy:"10.94",fill:"#fff",stroke:"none"}),e.jsx("path",{d:"M 26.733027 16.5 a 9.15 9.15 0 0 0 14.533946 0"})]}),e.jsx("path",{d:"M 0 2 a 2 2 0 0 0 2 -2M 66 0 a 2 2 0 0 0 2 2M 68 103 a 2 2 0 0 0 -2 2M 2 105 a 2 2 0 0 0 -2 -2"})]})]}),e.jsx("div",{className:"field-label home-label",children:k.name||(null==(r=c.home_team)?void 0:r.name)}),e.jsx("div",{className:"field-label away-label",children:S.name||(null==(o=c.away_team)?void 0:o.name)}),$(L.filter(s=>!s.is_substitute),!1),$(E.filter(s=>!s.is_substitute),!0)]}),e.jsxs("div",{className:"substitutes-wrapper",children:[M(`${k.name||(null==(d=c.home_team)?void 0:d.name)} substitutes`,L.filter(s=>s.is_substitute),k.crest_url||(null==(h=c.home_team)?void 0:h.crest_url)),M(`${S.name||(null==(u=c.away_team)?void 0:u.name)} substitutes`,E.filter(s=>s.is_substitute),S.crest_url||(null==(g=c.away_team)?void 0:g.crest_url))]})]}):e.jsxs("div",{className:"no-lineups",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsx("p",{children:"Detailed lineups not available for this match yet."})]})),"players"===p&&e.jsxs("div",{className:"player-stats-section",children:[A(k.name||(null==(f=c.home_team)?void 0:f.name)||"Home Team",k.crest_url||(null==(v=c.home_team)?void 0:v.crest_url),j.home),A(S.name||(null==(N=c.away_team)?void 0:N.name)||"Away Team",S.crest_url||(null==(y=c.away_team)?void 0:y.crest_url),j.away)]})]})]})})()}):null]})})})]})}function h({category:s}){const[i,l]=a.useState("scorers"),[r,c]=a.useState([]),[o,m]=a.useState([]),[d,h]=a.useState(!0);a.useEffect(()=>{u()},[s]);const u=async()=>{h(!0);try{const a=window.supabaseClient||t;if(!a)return c([]),void m([]);const{data:e,error:i}=await a.from("matches").select("id").eq("category",s);if(i)throw i;if(!e||0===e.length)return c([]),void m([]);const l=e.map(s=>s.id),{data:n,error:r}=await a.from("goals").select("\n          scorer_id,\n          assister_id,\n          team_id,\n          team:teams(name, crest_url),\n          scorer:team_players!goals_scorer_id_fkey(player_name, player_image),\n          assister:team_players!goals_assister_id_fkey(player_name, player_image)\n        ").in("match_id",l);if(r)throw r;const o={},d={};(n||[]).forEach(s=>{var a,e;if(null==(a=s.scorer)?void 0:a.player_name){const a=`${s.scorer.player_name}-${s.team_id}`;o[a]||(o[a]={player_name:s.scorer.player_name,player_image:s.scorer.player_image,team:s.team,goals:0}),o[a].goals+=1}if(null==(e=s.assister)?void 0:e.player_name){const a=`${s.assister.player_name}-${s.team_id}`;d[a]||(d[a]={player_name:s.assister.player_name,player_image:s.assister.player_image,team:s.team,assists:0}),d[a].assists+=1}});const h=Object.values(o).sort((s,a)=>a.goals-s.goals).slice(0,15),u=Object.values(d).sort((s,a)=>a.assists-s.assists).slice(0,15);c(h),m(u)}catch(a){c([]),m([])}finally{h(!1)}},p=(s,a)=>0===s.length?e.jsxs("div",{className:"no-stats",children:[e.jsx("i",{className:"fas fa-chart-line"}),e.jsx("p",{children:"No statistics available yet"})]}):e.jsx("div",{className:"stats-list",children:s.map((s,t)=>{var i,l,r;const c="scorers"===a?s.goals:s.assists,o=0===t?"gold":1===t?"silver":2===t?"bronze":"";return e.jsxs(n.div,{className:`stat-card ${o}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},children:[e.jsx("div",{className:"stat-position",children:t<3?e.jsx("div",{className:"medal-icon",children:e.jsx("i",{className:`fas fa-medal ${o}`})}):e.jsx("span",{className:"position-number",children:t+1})}),e.jsxs("div",{className:"stat-player-info",children:[e.jsx("div",{className:"player-name",children:s.player_name}),e.jsxs("div",{className:"player-team",children:[e.jsx("img",{src:(null==(i=s.team)?void 0:i.crest_url)||"/assets/data/open-age/team-logos/default.png",alt:null==(l=s.team)?void 0:l.name,className:"team-crest-mini",loading:"lazy",onError:s=>{s.target.src="/assets/data/open-age/team-logos/default.png"}}),e.jsx("span",{children:(null==(r=s.team)?void 0:r.name)||"Unknown"})]})]}),e.jsxs("div",{className:"stat-value",children:[e.jsx("span",{className:"value-number",children:c}),e.jsx("span",{className:"value-label",children:"scorers"===a?"Goals":"Assists"})]})]},`${s.player_name}-${t}`)})});return e.jsxs("div",{className:"statistics-container",children:[e.jsxs("div",{className:"stats-tab-selector",children:[e.jsxs("button",{className:"stats-tab-btn "+("scorers"===i?"active":""),onClick:()=>l("scorers"),children:[e.jsx("i",{className:"fas fa-futbol"}),"Top Scorers"]}),e.jsxs("button",{className:"stats-tab-btn "+("assists"===i?"active":""),onClick:()=>l("assists"),children:[e.jsx("i",{className:"fas fa-hands-helping"}),"Top Assists"]})]}),e.jsx("div",{className:"stats-content",children:d?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading statistics..."})]}):e.jsxs(e.Fragment,{children:["scorers"===i&&p(r,"scorers"),"assists"===i&&p(o,"assists")]})})]})}const u="2026"===((null==(s=window.location.pathname.match(/\/muqawamah\/(\d{4})\//))?void 0:s[1])||"2025")?function(){const s=window.location.pathname.includes("/u17/")?"u17":"open-age",[i,l]=a.useState(s),[o,m]=a.useState("standings"),[u,p]=a.useState([]),[x,j]=a.useState([]),[g,f]=a.useState(!0),v="2026";a.useEffect(()=>{N();const s=t.channel("tournament_2026_updates").on("postgres_changes",{event:"*",schema:"public",table:"teams",filter:`category=eq.${i}`},()=>{N()}).on("postgres_changes",{event:"*",schema:"public",table:"matches",filter:`category=eq.${i}`},()=>{N()}).subscribe();return()=>s.unsubscribe()},[i]);const N=async()=>{f(!0);try{const{data:s,error:a}=await t.from("teams").select("*").eq("category",i).order("points",{ascending:!1}).order("goals_for",{ascending:!1}).order("goals_against",{ascending:!0});if(a)throw a;const{data:e,error:l}=await t.from("matches").select("\n          *,\n          home_team:home_team_id(id, name, crest_url),\n          away_team:away_team_id(id, name, crest_url)\n        ").eq("category",i).order("match_date",{ascending:!0}).order("scheduled_time",{ascending:!0}),n=s=>(e||[]).filter(a=>"completed"===a.status&&(a.home_team_id===s||a.away_team_id===s)).sort((s,a)=>new Date(a.match_date)-new Date(s.match_date)).slice(0,5).map(a=>{const e=a.home_team_id===s,t=e?a.home_score:a.away_score,i=e?a.away_score:a.home_score;return t>i?"W":t<i?"L":"D"}).join(""),r=(s||[]).map(s=>({...s,gd:s.goals_for-s.goals_against,form:n(s.id)}));p(r),j(e||[])}catch(s){}finally{f(!1)}},y=s=>{l(s);const a=`/muqawamah/${v}/${s}/`;window.history.pushState({},"",a)};return e.jsxs("div",{className:"tournament-page",children:[e.jsxs("div",{className:"tournament-header",children:[e.jsxs("a",{href:`/muqawamah/${v}/`,className:"back-button",children:[e.jsx("i",{className:"fas fa-arrow-left"}),e.jsx("span",{children:"Back to Muqawama"})]}),e.jsxs("div",{className:"tournament-title",children:[e.jsxs("h1",{children:["MUQAWAMA ",v]}),e.jsx("p",{children:"Live Tournament Standings & Fixtures"})]}),e.jsxs("div",{className:"category-selector-tournament",children:[e.jsxs("button",{className:"category-btn "+("open-age"===i?"active":""),onClick:()=>y("open-age"),children:[e.jsx("i",{className:"fas fa-users"}),"Open Age"]}),e.jsxs("button",{className:"category-btn "+("u17"===i?"active":""),onClick:()=>y("u17"),children:[e.jsx("i",{className:"fas fa-user-friends"}),"U17"]})]})]}),e.jsxs("div",{className:"tab-navigation-tournament",children:[e.jsxs("button",{className:"tab-btn "+("standings"===o?"active":""),onClick:()=>m("standings"),children:[e.jsx("i",{className:"fas fa-trophy"}),e.jsx("span",{children:"Standings"})]}),e.jsxs("button",{className:"tab-btn "+("fixtures"===o?"active":""),onClick:()=>m("fixtures"),children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:"Fixtures & Results"})]}),e.jsxs("button",{className:"tab-btn "+("stats"===o?"active":""),onClick:()=>m("stats"),children:[e.jsx("i",{className:"fas fa-chart-bar"}),e.jsx("span",{children:"Statistics"})]})]}),e.jsx(r,{mode:"wait",children:e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"tournament-content",children:g?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading tournament data..."})]}):e.jsxs(e.Fragment,{children:["standings"===o&&e.jsx(e.Fragment,{children:0===u.length?e.jsxs("div",{className:"empty-state",children:[e.jsx("i",{className:"fas fa-users-slash"}),e.jsx("h3",{children:"No Teams Yet"}),e.jsx("p",{children:"Teams will appear here as they register and get confirmed for the tournament."}),e.jsx("a",{href:`/muqawamah/${v}/register/`,className:"register-btn",children:"Register Your Team"})]}):e.jsx(c,{teams:u,category:i})}),"fixtures"===o&&e.jsx(e.Fragment,{children:0===x.length?e.jsxs("div",{className:"empty-state",children:[e.jsx("i",{className:"fas fa-calendar-times"}),e.jsx("h3",{children:"Fixtures Coming Soon"}),e.jsx("p",{children:"Match fixtures will be published once all teams are confirmed."})]}):e.jsx(d,{fixtures:x})}),"stats"===o&&e.jsx(e.Fragment,{children:0===u.length?e.jsxs("div",{className:"empty-state",children:[e.jsx("i",{className:"fas fa-chart-line"}),e.jsx("h3",{children:"Statistics Coming Soon"}),e.jsx("p",{children:"Player and team statistics will be available once matches begin."})]}):e.jsx(h,{category:i})})]})},`${i}-${o}`)})]})}:function(){var s;const t=window.location.pathname.includes("/u17/")?"u17":"open-age",[i,l]=a.useState(t),[o,m]=a.useState("standings"),[u,p]=a.useState([]),[x,j]=a.useState([]),[g,f]=a.useState(!0),v=(null==(s=window.location.pathname.match(/\/muqawamah\/(\d{4})\//))?void 0:s[1])||"2025";a.useEffect(()=>{if(N(),window.supabaseClient){const s=window.supabaseClient.channel("tournament_updates").on("postgres_changes",{event:"*",schema:"public",table:"teams"},()=>N()).subscribe();return()=>s.unsubscribe()}},[i]);const N=async()=>{f(!0);try{if(!window.supabaseClient)return void f(!1);const{data:s,error:a}=await window.supabaseClient.from("teams").select("*").eq("category",i).order("points",{ascending:!1}).order("gd",{ascending:!1});if(a)throw a;const{data:e,error:t}=await window.supabaseClient.from("fixtures").select("\n          *,\n          home_team:teams!fixtures_home_team_id_fkey(id, name, crest_url),\n          away_team:teams!fixtures_away_team_id_fkey(id, name, crest_url)\n        ").eq("category",i).order("match_time",{ascending:!0});if(t)throw t;p(s||[]),j(e||[])}catch(s){}finally{f(!1)}},y=s=>{l(s);const a=`/muqawamah/${v}/${s}/`;window.history.pushState({},"",a)};return e.jsxs("div",{className:"tournament-page",children:[e.jsxs("div",{className:"tournament-header",children:[e.jsxs("a",{href:`/muqawamah/${v}/`,className:"back-button",children:[e.jsx("i",{className:"fas fa-arrow-left"}),e.jsx("span",{children:"Back to Muqawama"})]}),e.jsxs("div",{className:"tournament-title",children:[e.jsxs("h1",{children:["MUQAWAMA ",v]}),e.jsx("p",{children:"Tournament Results & Statistics"})]}),e.jsxs("div",{className:"category-selector-tournament",children:[e.jsxs("button",{className:"category-btn "+("open-age"===i?"active":""),onClick:()=>y("open-age"),children:[e.jsx("i",{className:"fas fa-users"}),"Open Age"]}),e.jsxs("button",{className:"category-btn "+("u17"===i?"active":""),onClick:()=>y("u17"),children:[e.jsx("i",{className:"fas fa-user-friends"}),"U17"]})]})]}),e.jsxs("div",{className:"tab-navigation-tournament",children:[e.jsxs("button",{className:"tab-btn "+("standings"===o?"active":""),onClick:()=>m("standings"),children:[e.jsx("i",{className:"fas fa-trophy"}),e.jsx("span",{children:"Standings"})]}),e.jsxs("button",{className:"tab-btn "+("fixtures"===o?"active":""),onClick:()=>m("fixtures"),children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:"Fixtures & Results"})]}),e.jsxs("button",{className:"tab-btn "+("stats"===o?"active":""),onClick:()=>m("stats"),children:[e.jsx("i",{className:"fas fa-chart-bar"}),e.jsx("span",{children:"Statistics"})]})]}),e.jsx(r,{mode:"wait",children:e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"tournament-content",children:g?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading tournament data..."})]}):e.jsxs(e.Fragment,{children:["standings"===o&&e.jsx(c,{teams:u,category:i}),"fixtures"===o&&e.jsx(d,{fixtures:x}),"stats"===o&&e.jsx(h,{category:i})]})},`${i}-${o}`)})]})};i.createRoot(document.getElementById("tournament-root")).render(e.jsx(l.StrictMode,{children:e.jsx(u,{})}));
